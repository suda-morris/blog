(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{256:function(a,s,t){"use strict";t.r(s);var n=t(4),e=Object(n.a)({},function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"ğ™“ğ™©ğ™šğ™£ğ™¨ğ™–-åŸºç¡€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğ™“ğ™©ğ™šğ™£ğ™¨ğ™–-åŸºç¡€","aria-hidden":"true"}},[a._v("#")]),a._v(" ğ™“ğ™©ğ™šğ™£ğ™¨ğ™– åŸºç¡€")]),a._v(" "),t("div",{staticClass:"warning custom-block"},[t("p",[a._v("Xtensa çš„æŒ‡ä»¤é›†æ¶æ„ç±»ä¼¼äº RISCï¼Œå¹¶å¯¹åµŒå…¥å¼åº”ç”¨åœºåˆåšäº†å¤šç§ä¼˜åŒ–ã€‚åœ¨ç§»æ¤æ“ä½œç³»ç»Ÿæ—¶è¦ç•™æ„ä»¥ä¸‹å‡ æ–¹é¢ï¼š")]),a._v(" "),t("ol",[t("li",[a._v("å˜é•¿æŒ‡ä»¤")]),a._v(" "),t("li",[a._v("çª—å£ï¼ˆwindowï¼‰å¯„å­˜å™¨")]),a._v(" "),t("li",[a._v("å¤„ç†å™¨çš„å¯é…ç½®æ€§")]),a._v(" "),t("li",[a._v("å¤„ç†å™¨çš„å¯æ‰©å±•æ€§ï¼ˆå¯é€šè¿‡ TIE æè¿°è¯­è¨€ä¸º Xtensa æ·»åŠ æ–°çš„æŒ‡ä»¤ï¼‰")])])]),a._v(" "),t("h2",{attrs:{id:"xtensa-å¤„ç†å™¨çš„ç¡¬ä»¶æŠ½è±¡å±‚-hal"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xtensa-å¤„ç†å™¨çš„ç¡¬ä»¶æŠ½è±¡å±‚-hal","aria-hidden":"true"}},[a._v("#")]),a._v(" Xtensa å¤„ç†å™¨çš„ç¡¬ä»¶æŠ½è±¡å±‚ HAL")]),a._v(" "),t("div",{staticClass:"tip custom-block"},[t("p",[a._v("HAL å‘ä¸Šæäº†ä¾›ç»Ÿä¸€çš„æ¥å£ï¼Œå‘ä¸‹å±è”½äº† Xtensa å¤„ç†å™¨çš„ä¸åŒé…ç½®ã€‚")])]),a._v(" "),t("h3",{attrs:{id:"ç¼–è¯‘æ—¶-halï¼ˆchalï¼‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–è¯‘æ—¶-halï¼ˆchalï¼‰","aria-hidden":"true"}},[a._v("#")]),a._v(" ç¼–è¯‘æ—¶ HALï¼ˆCHALï¼‰")]),a._v(" "),t("p",[a._v("åŒ…æ‹¬ C é¢„å¤„ç†å™¨ä¸æ±‡ç¼–å®å®šä¹‰ï¼ˆç”¨æ¥è¡¨å¾ Xtensa å¤„ç†å™¨çš„å…·ä½“é…ç½®ï¼‰ï¼Œç¡®ä¿æºç çº§åˆ«çš„å…¼å®¹æ€§ã€‚")]),a._v(" "),t("h3",{attrs:{id:"é“¾æ¥æ—¶-halï¼ˆlhalï¼‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é“¾æ¥æ—¶-halï¼ˆlhalï¼‰","aria-hidden":"true"}},[a._v("#")]),a._v(" é“¾æ¥æ—¶ HALï¼ˆLHALï¼‰")]),a._v(" "),t("p",[a._v("å¯¹äº Xtensa å¤„ç†å™¨çš„ä¸åŒé…ç½®å‡é€‚ç”¨ï¼Œåº•å±‚è½¯ä»¶ï¼ˆå¦‚æ“ä½œç³»ç»Ÿç§»æ¤å±‚ï¼‰å¯ä»¥é€šè¿‡è°ƒç”¨è¯¥å±‚æ¥å£æ¥å¤„ç† ISA ç›¸å…³çš„æ“ä½œï¼ˆå¦‚ä¿å­˜ç°åœº window frame ï¼‰ã€‚")]),a._v(" "),t("h2",{attrs:{id:"ç¼–å†™æ±‡ç¼–ä»£ç "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–å†™æ±‡ç¼–ä»£ç ","aria-hidden":"true"}},[a._v("#")]),a._v(" ç¼–å†™æ±‡ç¼–ä»£ç ")]),a._v(" "),t("p",[a._v("ç¤ºä¾‹ C ç¨‹åºï¼šè®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—")]),a._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("unsigned")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("fib")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("unsigned")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" val"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" cur"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" cur1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" newval"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("val "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("val "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    val "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" val "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    cur "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" cur1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        newval "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" cur "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" cur1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        cur1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" cur"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        cur "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" newval"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        val"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("while")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("val"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" cur"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br"),t("span",{staticClass:"line-number"},[a._v("21")]),t("br")])]),t("p",[a._v("å°†è¯¥ä»£ç æ±‡ç¼–åå¾—åˆ°å¦‚ä¸‹æ±‡ç¼–ç¨‹åºï¼š")]),a._v(" "),t("div",{staticClass:"language-asm line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    .text\t\t\t\t\t# å°†ä»¥ä¸‹ä»£ç ç¼–è¯‘è¿› .text æ®µ\n    .align  1\t\t\t\t# å°†ä¸‹é¢çš„å¯¹è±¡å­—èŠ‚æŒ‰ç…§å•å­—èŠ‚å¯¹é½çš„æ–¹å¼å­˜æ”¾\n    .literal_position\n    .type   fib, @function\t# æŒ‡å®š fib å¯¹è±¡æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒè¯•å™¨æ ¹æ®æ­¤ä¿¡æ¯æ–¹å¯æ­£ç¡®å±•ç¤ºè¯¥å¯¹è±¡\n    .align   4\t\t\t\t# å°†ä¸‹é¢çš„å¯¹è±¡å­—èŠ‚æŒ‰ 4 å­—èŠ‚å¯¹é½çš„æ–¹å¼å­˜æ”¾ï¼Œåªæœ‰è¿™æ ·ï¼Œfib æ‰æ˜¯å¯è°ƒç”¨çš„\n    .global fib\t\t\t\t# ä½¿ fib ç¬¦å·èƒ½å¤Ÿè¢«å¤–éƒ¨è®¿é—®\nfib:\t\t\t\t\t\t# å£°æ˜ fib ç¬¦å·\n    .frame  a1, 32\t\t\t# è®© a1 å¯„å­˜å™¨ä¿å­˜ stack frame çš„æŒ‡é’ˆï¼Œå¹¶è®¾ç½® stack frame çš„å¤§å°ä¸º 32 å­—èŠ‚\n.LBB1_fib:\n    entry   a1,32\t\t\t# æ‰€æœ‰å‡½æ•°éƒ½ä¼šä»¥ entry æŒ‡ä»¤å¼€å¤´ï¼Œ\n    bnez    a2,.Lt_0_2\t\t# å‡½æ•°çš„å®å‚è¢«ä¼ ç»™äº† a2 å¯„å­˜å™¨ï¼Œè‹¥ a2 å¯„å­˜å™¨çš„å€¼ä¸ä¸ºé›¶åˆ™è·³è½¬\n    movi.n  a2,0\t\t\t# è¿”å›å€¼ä¿å­˜åœ¨ a2 å¯„å­˜å™¨ä¸­ï¼ˆè¿”å›å€¼ä¸º 0ï¼‰\n    retw.n\t\t\t\t\t# å‡½æ•°è¿”å›\n\n.Lt_0_2:\n    bgeui   a2,3,.Lt_0_4\n\n    movi.n  a2,1\n    retw.n\n\n.Lt_0_4:\n    movi.n  a4,1\n    movi.n  a5,1\n    addi    a2,a2,-2\n\n.Lt_0_7:\n    add.n   a6,a5,a4\n    addi.n  a2,a2,-1\n    mov.n   a4,a5\n    mov.n   a5,a6\n    bnez    a2,.Lt_0_7\n\n    mov.n   a2,a6\n    retw.n\n\n    .size   fib, . - fib\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br"),t("span",{staticClass:"line-number"},[a._v("21")]),t("br"),t("span",{staticClass:"line-number"},[a._v("22")]),t("br"),t("span",{staticClass:"line-number"},[a._v("23")]),t("br"),t("span",{staticClass:"line-number"},[a._v("24")]),t("br"),t("span",{staticClass:"line-number"},[a._v("25")]),t("br"),t("span",{staticClass:"line-number"},[a._v("26")]),t("br"),t("span",{staticClass:"line-number"},[a._v("27")]),t("br"),t("span",{staticClass:"line-number"},[a._v("28")]),t("br"),t("span",{staticClass:"line-number"},[a._v("29")]),t("br"),t("span",{staticClass:"line-number"},[a._v("30")]),t("br"),t("span",{staticClass:"line-number"},[a._v("31")]),t("br"),t("span",{staticClass:"line-number"},[a._v("32")]),t("br"),t("span",{staticClass:"line-number"},[a._v("33")]),t("br"),t("span",{staticClass:"line-number"},[a._v("34")]),t("br"),t("span",{staticClass:"line-number"},[a._v("35")]),t("br"),t("span",{staticClass:"line-number"},[a._v("36")]),t("br")])]),t("div",{staticClass:"tip custom-block"},[t("p",[a._v("Xtensa ä¸­çš„æŸäº›æŒ‡ä»¤å¯ä»¥é€šè¿‡åŠ åç¼€ .n å¯ä»¥è®©ç¼–è¯‘å™¨å°½é‡ä½¿ç”¨ 16 æ¯”ç‰¹çš„æŒ‡ä»¤ï¼Œä»¥å†€è·å–æ›´é«˜çš„ä»£ç å¯†åº¦ã€‚")])]),a._v(" "),t("h2",{attrs:{id:"çª—å¯„å­˜å™¨å‡½æ•°è°ƒç”¨è§„èŒƒ-windowed-calling-convention"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#çª—å¯„å­˜å™¨å‡½æ•°è°ƒç”¨è§„èŒƒ-windowed-calling-convention","aria-hidden":"true"}},[a._v("#")]),a._v(" çª—å¯„å­˜å™¨å‡½æ•°è°ƒç”¨è§„èŒƒ (Windowed Calling Convention)")]),a._v(" "),t("p",[a._v("ç°ä»£å¤„ç†å™¨ä¸ºäº†æ›´å¥½çš„æ”¯æŒé«˜çº§ç¼–ç¨‹è¯­è¨€çš„é«˜æ•ˆç¼–è¯‘ï¼Œé€šå¸¸å¤„ç†å™¨æ‰€æ‹¥æœ‰çš„é€šç”¨å¯„å­˜å™¨çš„æ•°ç›®æœ‰16ä¸ªç”šè‡³32ä¸ªä¹‹å¤šï¼Œå¦‚æ­¤å¤šçš„å¯„å­˜å™¨åœ¨æ¯”è¾ƒå¤æ‚çš„åº”ç”¨ç¨‹åºä¸Šå®ç°æ·±åº¦åµŒå¥—è°ƒç”¨çš„æ—¶å€™ï¼Œä¸ºäº†ä¿è¯ç¨‹åºçš„æ­£ç¡®æ‰§è¡Œï¼Œå¯„å­˜å™¨è¦é¢‘ç¹åœ°è¿›è¡Œå…¥æ ˆå’Œå‡ºæ ˆçš„æ“ä½œï¼Œè¿™æ ·é¢‘ç¹çš„å †æ ˆmemoryçš„è®¿é—®å°†æ˜æ˜¾æ¶åŒ–åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚ä¸ºäº†æœ‰æ•ˆè§£å†³è¿™ä¸€é—®é¢˜ï¼ŒXtensaæ¶æ„è®¾è®¡äº†ä¸€ç§"),t("code",[a._v("Windowsæ—‹è½¬")]),a._v("æ–¹å¼çš„"),t("code",[a._v("å¯„å­˜å™¨ç®¡ç†")]),a._v("æœºåˆ¶ï¼Œ"),t("strong",[a._v("å°†é€»è¾‘å¯„å­˜å™¨å’Œç‰©ç†å¯„å­˜å™¨åˆ†å¼€")]),a._v("ï¼Œåœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™é€šè¿‡windowsæ»‘åŠ¨åˆ‡æ¢é€»è¾‘å¯„å­˜å™¨ï¼Œä»è€Œé¿å…å¯„å­˜å™¨è¦†ç›–ï¼Œå‡å°‘å‹æ ˆå’Œå‡ºæ ˆçš„æ“ä½œã€‚")]),a._v(" "),t("h3",{attrs:{id:"arç‰©ç†å¯„å­˜å™¨ç¯å½¢buffer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#arç‰©ç†å¯„å­˜å™¨ç¯å½¢buffer","aria-hidden":"true"}},[a._v("#")]),a._v(" ARç‰©ç†å¯„å­˜å™¨ç¯å½¢Buffer")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://s2.ax1x.com/2019/01/07/Fbr9IO.png",alt:"ARç‰©ç†å¯„å­˜å™¨ç¯å½¢buffer"}})]),a._v(" "),t("p",[a._v("åŸºæœ¬å®ç°åŸç†ï¼šä½¿ç”¨æ›´å¤šçš„ç‰©ç†ARå¯„å­˜å™¨ç»„æˆä¸€ä¸ªç¯å½¢çš„bufferã€‚è¿™äº›å¯„å­˜å™¨æ¯4ä¸ªä¸ºä¸€ç»„ï¼ˆpaneï¼‰ï¼ŒWindowStartä¸­çš„æ¯ä¸ªæ¯”ç‰¹ä¾æ¬¡è¡¨ç¤ºè¯¥ç»„æ˜¯å¦ä½œä¸ºé€»è¾‘å¯„å­˜å™¨çª—å£çš„èµ·å§‹ä½ç½®æˆ–è€…è¢«å ç”¨ã€‚å½“å‰çš„é€»è¾‘å¯„å­˜å™¨çš„èµ·å§‹ä½ç½®åˆ™ç”¨WindowBaseçŠ¶æ€å¯„å­˜å™¨æ¥è¡¨ç¤ºã€‚"),t("strong",[a._v("åœ¨å‘ç”Ÿå‡½æ•°è°ƒç”¨çš„æ—¶å€™æ˜¯é€šè¿‡ä¿®æ”¹WindowBaseå¯„å­˜å™¨ï¼Œæ»‘åŠ¨é€»è¾‘å¯„å­˜å™¨çª—å£")]),a._v("ï¼Œä»è€Œçˆ¶å­å‡½æ•°çœ‹åˆ°çš„æ˜¯ä¸åŒçš„ç‰©ç†å¯„å­˜å™¨ï¼Œé¿å…äº†å¯„å­˜å™¨çš„å‹æ ˆå’Œå‡ºæ ˆã€‚")]),a._v(" "),t("p",[a._v("ä»¥æ¯4ä¸ªå¯„å­˜å™¨ï¼ˆpaneï¼‰ä¸ºå•ä½ï¼Œå‡½æ•°è°ƒç”¨çš„æ—¶å€™çª—å£å¯ä»¥æ»‘åŠ¨4ä¸ªï¼Œ8ä¸ªæˆ–è€…12ä¸ªç‰©ç†å¯„å­˜å™¨ï¼Œåˆ†åˆ«å¯ä»¥ç”¨call4,call8,call12æŒ‡ä»¤æ¥å®ç°ï¼Œè€Œæœ€å…¸å‹çš„åº”ç”¨åˆ™ä¸ºcall8ã€‚")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://s2.ax1x.com/2019/01/07/Fb2cmd.png",alt:"call8 Windows ABIè°ƒç”¨è§„èŒƒ"}})]),a._v(" "),t("ul",[t("li",[a._v("a0ç”¨æ¥ä¿å­˜å‡½æ•°è¿”å›åœ°å€")]),a._v(" "),t("li",[a._v("a1ä¿å­˜spå †æ ˆæŒ‡é’ˆ")]),a._v(" "),t("li",[a._v("a2ï½a7ç”¨æ¥ä¼ é€’å‡½æ•°å…¥å‚ï¼Œå‚æ•°è¶…è¿‡6ä¸ªçš„æ—¶å€™åˆ™éœ€è¦ä½¿ç”¨å †æ ˆ")]),a._v(" "),t("li",[t("strong",[a._v("å¯¹è°ƒç”¨è€…å‡½æ•°å’Œè¢«è°ƒç”¨å‡½æ•°æ¥è¯´ï¼Œa0~a7æ˜¯ç‹¬ç«‹çš„å¯„å­˜å™¨ï¼Œå¯ä»¥è‡ªç”±ä½¿ç”¨ï¼Œè€Œa8~a15åˆ™ä¸ºscratchå¯„å­˜å™¨ï¼Œéšæ—¶ä¼šè¢«å­å‡½æ•°ä½¿ç”¨ï¼Œè°ƒç”¨è€…å‡½æ•°å¦‚æœè¦ä½¿ç”¨ï¼Œåˆ™åœ¨è°ƒç”¨å­å‡½æ•°å‰è¿›è¡Œå‹æ ˆä¿å­˜")])])]),a._v(" "),t("p",[a._v("ä¸ºäº†æ–¹ä¾¿å¯„å­˜å™¨æ­£å¸¸çš„ä¿å­˜ä¸æ¢å¤ï¼Œè¿˜è¦è°ƒç”¨æ ˆçš„é«˜æ•ˆå›æº¯ï¼Œè¿˜æœ‰å¿…è¦å¯¹å‡½æ•°çš„Frameæ ˆç©ºé—´åšç»Ÿä¸€çš„å®‰æ’ã€‚")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://s2.ax1x.com/2019/01/07/FbOOEV.png",alt:"Window ABI å †æ ˆå¸ƒå±€"}})]),a._v(" "),t("ul",[t("li",[a._v("Base Areaç”¨äºå­˜å‚¨å…¶çˆ¶å‡½æ•°çš„åŸºæœ¬å¯„å­˜å™¨"),t("code",[a._v("a0")]),a._v("~"),t("code",[a._v("a3")])])]),a._v(" "),t("h3",{attrs:{id:"windowså¯„å­˜å™¨è¦†ç›–é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windowså¯„å­˜å™¨è¦†ç›–é—®é¢˜","aria-hidden":"true"}},[a._v("#")]),a._v(" Windowså¯„å­˜å™¨è¦†ç›–é—®é¢˜")]),a._v(" "),t("p",[a._v("åœ¨å‘ç”Ÿå‡½æ•°è°ƒç”¨ï¼Œæ‰§è¡ŒcallæŒ‡ä»¤çš„æ—¶å€™ï¼Œçª—é€’å¢å€¼ï¼ˆcall4ï¼Œcall8ï¼Œcall12åˆ†åˆ«å¯¹åº”1,2,3ï¼‰å­˜å…¥PSå¤„ç†å™¨çŠ¶æ€å¯„å­˜å™¨çš„"),t("code",[a._v("CALLINC")]),a._v("åŸŸï¼Œåœ¨è¿›å…¥å‡½æ•°çš„å…¥å£å¤„ç”¨"),t("code",[a._v("entry")]),a._v("æŒ‡ä»¤è¿›è¡ŒWindowé‡å æ£€æµ‹ï¼Œæ¡ä»¶æ»¡è¶³çš„æ—¶å€™å°†è§¦å‘ç›¸åº”çš„windows overflowå¼‚å¸¸ï¼Œå¼•å¯¼ç¨‹åºè¿›è¡Œè¦†ç›–å¯„å­˜å™¨çš„å…¥æ ˆä¿æŠ¤ã€‚")]),a._v(" "),t("h3",{attrs:{id:"windowså¯„å­˜å™¨underflowé—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windowså¯„å­˜å™¨underflowé—®é¢˜","aria-hidden":"true"}},[a._v("#")]),a._v(" Windowså¯„å­˜å™¨underflowé—®é¢˜")]),a._v(" "),t("p",[a._v("å½“å­å‡½æ•°è¿”å›æ—¶ï¼ŒRETWæˆ–è€…RETW.NæŒ‡ä»¤æ‰§è¡Œï¼Œæ­¤æ—¶ä¹Ÿä»…æ­¤æ—¶å¤„ç†å™¨å°†è¿›è¡Œä¸Šæº¢æ£€æŸ¥ã€‚å¦‚æœå½“Windowbaseæ‰€åœ¨çš„ä½ç½®çš„å‰3ä¸ªwindows paneçš„WindowStartæ¯”ç‰¹éƒ½ä¸º0ï¼Œåˆ™æ„å‘³ç€å®ƒè¿”å›åçš„çˆ¶å‡½æ•°å‘ç”Ÿè¿‡WindowOverflowï¼Œçˆ¶å‡½æ•°çš„çª—å£å¯„å­˜å™¨æ›¾ç»è¢«å‹å…¥stackã€‚å¦‚æœä¸æ˜¯å…¨ä¸º0ï¼Œåˆ™åº”è¯¥ä¸ä¸ºé›¶0çš„ç‚¹å’Œæ­£å¸¸windowè¿”å›çš„ç‚¹å¯¹åº”ï¼Œå°±è¿”å›ï¼Œå¦‚æœä¸åŒï¼Œåˆ™è¯´æ˜å‘ç”Ÿäº†ä¸æ­£å¸¸çš„è°ƒç”¨ï¼Œa0è¢«ç ´åæ‰äº†ï¼Œè¦äº§ç”Ÿéæ³•æŒ‡ä»¤é”™è¯¯ã€‚")]),a._v(" "),t("h2",{attrs:{id:"å‚æ•°ä¼ é€’"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°ä¼ é€’","aria-hidden":"true"}},[a._v("#")]),a._v(" å‚æ•°ä¼ é€’")]),a._v(" "),t("p",[t("code",[a._v("å‰6ä¸ªå‚æ•°ä¼šä¼ é€’ç»™ AR å¯„å­˜å™¨ï¼Œå‰©ä½™çš„å‚æ•°ä¼šè¢«ä¿å­˜åœ¨stackä¸­ã€‚")])]),a._v(" "),t("p",[a._v("å¯¹äº"),t("code",[a._v("callN")]),a._v("æŒ‡ä»¤ï¼ˆNå–å€¼4,8æˆ–è€…12ï¼‰æ¥è¯´ï¼Œå‡½æ•°è°ƒç”¨è€…ä¼šå°†å‚æ•°ä¿å­˜åˆ°å¯„å­˜å™¨AR[N+2]åˆ°AR[N+7]ä¸­ï¼ˆç‰¹åˆ«æ³¨æ„ï¼Œ"),t("code",[a._v("call12")]),a._v("æŒ‡ä»¤æ˜¯èƒ½ç”¨äºè°ƒç”¨åªæœ‰ä¸¤ä¸ªæˆ–è€…æ›´å°‘å‚æ•°çš„å‡½æ•°ï¼Œåªèƒ½ä½¿ç”¨AR[N+2]å’ŒAR[N+3]å¯„å­˜å™¨ï¼‰ï¼Œå‡½æ•°è¢«è°ƒç”¨è€…ä¼šä»å¯„å­˜å™¨AR[2]åˆ°AR[7]ä¸­æ¥æ”¶è¿™äº›å‚æ•°ã€‚")]),a._v(" "),t("p",[a._v("å¦‚æœå‚æ•°çš„æ•°é‡å¤šäº6ä¸ªï¼Œå‰©ä¸‹çš„å‚æ•°å°±ä¼šè¢«ä¿å­˜åœ¨å‡½æ•°è°ƒç”¨è€…çš„å †æ ˆï¼Œå³ç¬¬ä¸ƒä¸ªå‚æ•°ä¿å­˜åœ¨[sp+0]å¤„ï¼Œç¬¬å…«ä¸ªå‚æ•°ä¿å­˜åœ¨[sp+4]å¤„ï¼Œä¾æ­¤ç±»æ¨ã€‚å‡½æ•°è¢«è°ƒç”¨è€…éœ€è¦ä»å†…å­˜çš„[sp+FRAMESIZE]å¤„è·å–è¿™äº›é¢å¤–çš„å‚æ•°ï¼Œå…¶ä¸­"),t("code",[a._v("FRAMESIZE")]),a._v("æ˜¯è¢«è°ƒç”¨è€…çš„"),t("code",[a._v("stack frame")]),a._v("å¤§å°ï¼Œé€šå¸¸ä¼šç”¨"),t("code",[a._v("entry")]),a._v("æŒ‡ä»¤æŒ‡å®šã€‚")]),a._v(" "),t("p",[a._v("ä»¥ä¸‹Cç¨‹åºä»£ç ")]),a._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n\t\t  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" g"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" i "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" j"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\tj "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" c "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" d "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" e "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" f "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" g "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" h "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" j"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])]),t("p",[a._v("å¯¹åº”çš„æ±‡ç¼–ç¨‹åºä»£ç ä¸º")]),a._v(" "),t("div",{staticClass:"language-assembly line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v(".align 4\n\t.global func\nfunc:\n\t.frame a1, 32\n.LBB1_func:\n\tentry a1,32 // æ­¤å‡½æ•°çš„ FRAMESIZE æ˜¯32å­—èŠ‚\n\tl32i.n a10,a1,40\n.LBB2_func:\n\tl32i.n a8,a1,32\n\tadd.n a12,a5,a6\n\tadd.n a11,a2,a3\n\tl32i.n a2,a1,36\n\tadd.n a11,a4,a11\n\tadd.n a11,a11,a12\n\tadd.n a8,a8,a7\n\tadd.n a2,a2,a10\n\tadd.n a8,a8,a11\n\tadd.n a2,a2,a8\t//è¿”å›å€¼å¦‚æœä¸è¶…è¿‡4å­—èŠ‚ï¼Œå°±ä¼šè¢«ä¿å­˜åœ¨ a2 å¯„å­˜å™¨ä¸­\n\tretw.n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br")])]),t("h2",{attrs:{id:"å‡½æ•°è°ƒç”¨ä¸è¿”å›"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‡½æ•°è°ƒç”¨ä¸è¿”å›","aria-hidden":"true"}},[a._v("#")]),a._v(" å‡½æ•°è°ƒç”¨ä¸è¿”å›")]),a._v(" "),t("p",[a._v("æ¯ä¸ªCè¯­è¨€å‡½æ•°çš„è°ƒç”¨éƒ½ä¼šé€šè¿‡ä»¥ä¸‹çš„æŒ‡ä»¤æ¥å®ç°ï¼š"),t("code",[a._v("call4")]),a._v("ï¼Œ"),t("code",[a._v("call8")]),a._v("ï¼Œ"),t("code",[a._v("call12")]),a._v("ï¼Œ"),t("code",[a._v("callx4")]),a._v("ï¼Œ"),t("code",[a._v("callx8")]),a._v("ï¼Œ"),t("code",[a._v("callx12")]),a._v("ã€‚ä¸ºäº†ç»™å‡½æ•°ä¼ é€’æ§åˆ¶ä¿¡æ¯ï¼Œè¿™äº›æŒ‡ä»¤ä¼šåœ¨"),t("code",[a._v("PS.CALLINC")]),a._v("ä¸­è®¾ç½®"),t("code",[a._v("Window Increment")]),a._v("ï¼ˆå³é€»è¾‘çª—æ—‹è½¬çš„é‡ï¼‰ï¼ŒåŒæ—¶ä¹Ÿä¼šå°†è¢«è°ƒç”¨è€…çš„"),t("code",[a._v("a0")]),a._v("å¯„å­˜å™¨ï¼ˆå¯èƒ½æ˜¯è°ƒç”¨è€…çš„a4ï¼Œa8æˆ–è€…a12å¯„å­˜å™¨ï¼‰è®¾ç½®è¿”å›åœ°å€ï¼ˆè¯¥å¯„å­˜å™¨çš„é«˜ä¸¤ä½ä¼šç”¨æ¥ä¿å­˜é€»è¾‘çª—å¢é‡ï¼‰ã€‚"),t("code",[a._v("return")]),a._v("æŒ‡ä»¤ä¼šå°†é€»è¾‘çª—é‡æ–°æ—‹è½¬å›åŸæ¥çš„ä½ç½®ï¼ˆé€šè¿‡è¯»å–è¿”å›åœ°å€çš„é«˜ä¸¤ä½æ¥ç¡®å®šæ—‹è½¬é‡ï¼‰ã€‚ç›¸ååœ°ï¼Œ"),t("code",[a._v("entry")]),a._v("æŒ‡ä»¤åªèƒ½é€šè¿‡"),t("code",[a._v("PS.CALLINC")]),a._v("çš„å€¼æ¥æ—‹è½¬é€»è¾‘çª—ï¼ˆå› ä¸ºå®ƒä¸çŸ¥é“ç©¶ç«Ÿæ˜¯å“ªä¸€ä¸ªå¯„å­˜å™¨ä¼šç”¨æ¥ä¿å­˜è¿”å›åœ°å€ï¼‰ã€‚")]),a._v(" "),t("p",[a._v("æ¯ä¸ªå‡½æ•°éƒ½è¦åˆ†é…ä¸€ä¸ªå †æ ˆå¸§ï¼ˆstack frameï¼‰ï¼Œå…¶å¤§å°ç”±ä¸¤æ–¹é¢å†³å®šï¼š")]),a._v(" "),t("ol",[t("li",[a._v("è¯¥å‡½æ•°ç”¨åˆ°çš„æœ¬åœ°å˜é‡ï¼ˆå¦‚æœæœ‰ç”¨åˆ°ï¼Œå°±éœ€è¦è®¡ç®—è¿›å»ï¼‰")]),a._v(" "),t("li",[a._v("çª—å£ä¿å­˜åŒºï¼ˆwindow save areaï¼‰")])]),a._v(" "),t("p",[a._v("æ¯ä¸ªå‡½æ•°å¿…é¡»è¦åˆ†é…16å­—èŠ‚ç»™åŸºæœ¬ä¿å­˜åŒºï¼ˆbase save area)ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°è¿˜ä½¿ç”¨äº†"),t("code",[a._v("call8")]),a._v("æˆ–è€…"),t("code",[a._v("call12")]),a._v("æŒ‡ä»¤ï¼Œé‚£å°±éœ€è¦åœ¨å †æ ˆå¸§ä¸­ç»™é™„åŠ ä¿å­˜åŒºï¼ˆextra save area)åˆ†é…ç©ºé—´ã€‚å¦‚æœæ˜¯"),t("code",[a._v("call8")]),a._v("æŒ‡ä»¤ï¼Œéœ€è¦é¢å¤–åˆ†é…16å­—èŠ‚ï¼ˆæ€»å…±32å­—èŠ‚ï¼‰ï¼›å¦‚æœæ˜¯"),t("code",[a._v("call12")]),a._v("æŒ‡ä»¤ï¼Œéœ€è¦é¢å¤–åˆ†é…32å­—èŠ‚ï¼ˆæ€»å…±48å­—èŠ‚ï¼‰ã€‚å¦‚ä¸‹è¡¨æ‰€ç¤º")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("å‡½æ•°ä¸­æ‰§è¡Œçš„æ“ä½œ")]),a._v(" "),t("th",[a._v("é¢å¤–éœ€è¦çš„å †æ ˆå¸§ç©ºé—´ï¼ˆå•ä½ï¼šå­—èŠ‚ï¼‰")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("No Calls")]),a._v(" "),t("td",[a._v("16")])]),a._v(" "),t("tr",[t("td",[a._v("call4")]),a._v(" "),t("td",[a._v("16")])]),a._v(" "),t("tr",[t("td",[a._v("call8,call4")]),a._v(" "),t("td",[a._v("32")])]),a._v(" "),t("tr",[t("td",[a._v("call12,call8,call4")]),a._v(" "),t("td",[a._v("48")])])])]),a._v(" "),t("h4",{attrs:{id:"entryæŒ‡ä»¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#entryæŒ‡ä»¤","aria-hidden":"true"}},[a._v("#")]),a._v(" entryæŒ‡ä»¤")]),a._v(" "),t("p",[a._v("ä¸»è¦åšä¸¤ä»¶äº‹æƒ…ï¼š")]),a._v(" "),t("ol",[t("li",[a._v("å®ƒæ ¹æ®è°ƒç”¨è€…çš„å †æ ˆæŒ‡é’ˆè®¡ç®—è¢«è°ƒç”¨è€…çš„å †æ ˆæŒ‡é’ˆï¼Œå¹¶ä½¿ç”¨è¯¥å‘½ä»¤åè·Ÿçš„ç«‹å³æ•°ä½œä¸ºå †æ ˆå¸§çš„å¤§å°ã€‚")]),a._v(" "),t("li",[a._v("æ ¹æ®"),t("code",[a._v("PS.CALLINC")]),a._v("çš„å€¼æ—‹è½¬é€»è¾‘çª—")])]),a._v(" "),t("h2",{attrs:{id:"xtensaæ±‡ç¼–ä»£ç ç®€å•ç¤ºä¾‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xtensaæ±‡ç¼–ä»£ç ç®€å•ç¤ºä¾‹","aria-hidden":"true"}},[a._v("#")]),a._v(" Xtensaæ±‡ç¼–ä»£ç ç®€å•ç¤ºä¾‹")]),a._v(" "),t("p",[a._v("éƒ¨åˆ†åº•å±‚é©±åŠ¨åªèƒ½ä½¿ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™ï¼Œæ¯”å¦‚ï¼š")]),a._v(" "),t("ul",[t("li",[a._v("ç”¨æˆ·å¼‚å¸¸å¤„ç†")]),a._v(" "),t("li",[a._v("å†…æ ¸å¼‚å¸¸å¤„ç†")]),a._v(" "),t("li",[a._v("windowå¤„ç†")]),a._v(" "),t("li",[a._v("å¤ä½å¤„ç†")])]),a._v(" "),t("h3",{attrs:{id:"ä½¿ç”¨æ±‡ç¼–å®ç°16æ¯”ç‰¹ç‚¹ç§¯è¿ç®—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æ±‡ç¼–å®ç°16æ¯”ç‰¹ç‚¹ç§¯è¿ç®—","aria-hidden":"true"}},[a._v("#")]),a._v(" ä½¿ç”¨æ±‡ç¼–å®ç°16æ¯”ç‰¹ç‚¹ç§¯è¿ç®—")]),a._v(" "),t("div",{staticClass:"language-assembly line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('#include "dsls_dotprod_16s_m_ae32.S"\n#include "dsl_err_codes.h"\n\n\t.text //ä¿å­˜åœ¨ä»£ç æ®µ\n\t.align  4 // ä¸PCæœ‰å…³çš„è·³è½¬æŒ‡ä»¤éœ€è¦ç›®æ ‡åœ°å€4å­—èŠ‚å¯¹é½\n\t.global dsls_dotprod_16s_ae32 // å£°æ˜è¯¥å‡½æ•°å…¨å±€å¯è®¿é—®\n\t.type   dsls_dotprod_16s_ae32,@function // å£°æ˜ç¬¦å·æ˜¯å‡½æ•°ç±»å‹ï¼ˆæ–¹ä¾¿è°ƒè¯•å™¨æ›´å¥½åœ°å±•ç¤ºä¿¡æ¯ï¼‰\n\n\n// è‰¯å¥½çš„ä¹ æƒ¯æ˜¯åœ¨æ±‡ç¼–å‡½æ•°å¼€å§‹å‰ï¼Œæ³¨é‡Šå…¶Cè¯­è¨€åŸå‹\n// esp_err_t dsls_dotprod_16s_ae32(int16_t* src1, int16_t* src2, int16_t* dest, int len, int8_t shift);\ndsls_dotprod_16s_ae32: \n// src1 - a2\n// src2 - a3\n// dest - a4\n// len  - a5\n// shift - a6\n\n\tentry\ta1, 16\n\n\t// Check minimum length\n\tmovi a8, 4\n\tblt a5, a8, dsls_dotprod_16s_ae32_error\n\t\n\t// Clear accumulator\n\tmovi a8, 0\n\twsr a8, acchi\n\t\t\n\t// Prepare and load round value\n\tmovi a8, 0x7fff\n\tssr a6\n\tsrl a8, a8\n\twsr a8, acclo // initialize acc with shifted round value\n\n\t// Compensate for pre-increment \n\t// Right shift to 16 bits\n\t// RS = -shift + 15\n\tneg  a6, a6 \n\taddi a6, a6, 15\n\t\n\t/* number of loop iterations (see below):\n\t * a7 = count / 4 - 1\n\t */\n\t\n\tsrli a7, a5, 2\n\taddi a7, a7, -1\n\n\tmovi.n\ta10, 0 // load 0 to the a10 to increment second array\n\n\tdotprod_16s_ae32_full a2, a3, a7, a5\n\n\t/* Get accumulator */\n\tssr a6\n\trsr a2, acchi\n\trsr a3, acclo\n\tsrc a2, a2, a3\n\t\t\n\ts16i\ta2, a4, 0\n\tmovi.n\ta2, 0\t//è¿”å›å€¼ä¿å­˜åœ¨ a2 å¯„å­˜å™¨ä¸­\n\tretw.n\ndsls_dotprod_16s_ae32_error:\n\tmovi.n\ta2, ESP_ERR_DSL_INVALID_LENGTH\n\tretw.n\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br"),t("span",{staticClass:"line-number"},[a._v("21")]),t("br"),t("span",{staticClass:"line-number"},[a._v("22")]),t("br"),t("span",{staticClass:"line-number"},[a._v("23")]),t("br"),t("span",{staticClass:"line-number"},[a._v("24")]),t("br"),t("span",{staticClass:"line-number"},[a._v("25")]),t("br"),t("span",{staticClass:"line-number"},[a._v("26")]),t("br"),t("span",{staticClass:"line-number"},[a._v("27")]),t("br"),t("span",{staticClass:"line-number"},[a._v("28")]),t("br"),t("span",{staticClass:"line-number"},[a._v("29")]),t("br"),t("span",{staticClass:"line-number"},[a._v("30")]),t("br"),t("span",{staticClass:"line-number"},[a._v("31")]),t("br"),t("span",{staticClass:"line-number"},[a._v("32")]),t("br"),t("span",{staticClass:"line-number"},[a._v("33")]),t("br"),t("span",{staticClass:"line-number"},[a._v("34")]),t("br"),t("span",{staticClass:"line-number"},[a._v("35")]),t("br"),t("span",{staticClass:"line-number"},[a._v("36")]),t("br"),t("span",{staticClass:"line-number"},[a._v("37")]),t("br"),t("span",{staticClass:"line-number"},[a._v("38")]),t("br"),t("span",{staticClass:"line-number"},[a._v("39")]),t("br"),t("span",{staticClass:"line-number"},[a._v("40")]),t("br"),t("span",{staticClass:"line-number"},[a._v("41")]),t("br"),t("span",{staticClass:"line-number"},[a._v("42")]),t("br"),t("span",{staticClass:"line-number"},[a._v("43")]),t("br"),t("span",{staticClass:"line-number"},[a._v("44")]),t("br"),t("span",{staticClass:"line-number"},[a._v("45")]),t("br"),t("span",{staticClass:"line-number"},[a._v("46")]),t("br"),t("span",{staticClass:"line-number"},[a._v("47")]),t("br"),t("span",{staticClass:"line-number"},[a._v("48")]),t("br"),t("span",{staticClass:"line-number"},[a._v("49")]),t("br"),t("span",{staticClass:"line-number"},[a._v("50")]),t("br"),t("span",{staticClass:"line-number"},[a._v("51")]),t("br"),t("span",{staticClass:"line-number"},[a._v("52")]),t("br"),t("span",{staticClass:"line-number"},[a._v("53")]),t("br"),t("span",{staticClass:"line-number"},[a._v("54")]),t("br"),t("span",{staticClass:"line-number"},[a._v("55")]),t("br"),t("span",{staticClass:"line-number"},[a._v("56")]),t("br"),t("span",{staticClass:"line-number"},[a._v("57")]),t("br"),t("span",{staticClass:"line-number"},[a._v("58")]),t("br"),t("span",{staticClass:"line-number"},[a._v("59")]),t("br"),t("span",{staticClass:"line-number"},[a._v("60")]),t("br"),t("span",{staticClass:"line-number"},[a._v("61")]),t("br"),t("span",{staticClass:"line-number"},[a._v("62")]),t("br"),t("span",{staticClass:"line-number"},[a._v("63")]),t("br")])]),t("ul",[t("li",[a._v("æœ‰äº›æŒ‡ä»¤ä¼šä»¥"),t("code",[a._v(".n")]),a._v("ä½œä¸ºåç¼€ï¼ŒXtensaå¤„ç†å™¨ä¸ºäº†è¿›ä¸€æ­¥æé«˜ä»£ç å¯†åº¦ï¼Œæä¾›äº†ä¸€äº›å¸¸ç”¨æŒ‡ä»¤çš„16æ¯”ç‰¹ç‰ˆæœ¬ï¼Œè¿™é‡Œçš„"),t("code",[a._v("n")]),a._v("ä»£è¡¨narrow")])]),a._v(" "),t("h4",{attrs:{id:"æŒ‡å®šæ®µå"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æŒ‡å®šæ®µå","aria-hidden":"true"}},[a._v("#")]),a._v(" æŒ‡å®šæ®µå")]),a._v(" "),t("div",{staticClass:"language-assembly line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('/*\n  KernelExceptionVector\n  This implements the kernel exception vector and transfers control to the KernelExceptionHandler.\n*/\n\t.section .KernelExceptionVector.text, "ax"\n\t.begin literal_prefix .KernelExceptionVector\n_KernelExceptionVector:\n\twsr.excsave1 a3\n\tmovi a3, _KernelExceptionHandler\n\tjx a3\n\t.end literal_prefix\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])]),t("ul",[t("li",[t("code",[a._v(".section")]),a._v("æŒ‡ä»¤åéœ€è¦è·Ÿä¸Šæ®µåå’Œé™„åŠ ä¿¡æ¯ï¼ˆç”¨äºæè¿°è¯¥æ®µçš„å±æ€§ï¼‰ï¼Œ"),t("code",[a._v("x")]),a._v("è¡¨ç¤ºå¯æ‰§è¡Œï¼Œ"),t("code",[a._v("a")]),a._v("è¡¨ç¤ºå¯åˆ†é…")]),a._v(" "),t("li",[a._v("åœ¨"),t("code",[a._v(".begin literal_prefix")]),a._v("å’Œ"),t("code",[a._v(".end literal_prefix")]),a._v("ä¹‹é—´çš„æ‰€æœ‰å­—é¢é‡ä¼šè¢«æ”¾åœ¨ç‰¹æ®Šçš„æ®µä¸­ï¼ˆä¸æ˜¯é»˜è®¤çš„.literalï¼‰ï¼Œè¿™ä¸ªæ®µçš„å‰ç¼€åç”±ç”¨æˆ·æŒ‡å®š")])]),a._v(" "),t("h2",{attrs:{id:"ç¼–å†™é«˜æ•ˆçš„æ±‡ç¼–ä»£ç "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–å†™é«˜æ•ˆçš„æ±‡ç¼–ä»£ç ","aria-hidden":"true"}},[a._v("#")]),a._v(" ç¼–å†™é«˜æ•ˆçš„æ±‡ç¼–ä»£ç ")]),a._v(" "),t("h3",{attrs:{id:"åˆ†æ”¯é¢„æµ‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†æ”¯é¢„æµ‹","aria-hidden":"true"}},[a._v("#")]),a._v(" åˆ†æ”¯é¢„æµ‹")]),a._v(" "),t("p",[a._v("ç»éªŒæ³•åˆ™ï¼š"),t("strong",[a._v("è¿›å…¥åˆ†æ”¯æ¯”ä¸è¿›å…¥åˆ†æ”¯çš„å¼€é”€æ›´å¤§")])]),a._v(" "),t("h3",{attrs:{id:"æ‰‹åŠ¨è°ƒåº¦æŒ‡ä»¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ‰‹åŠ¨è°ƒåº¦æŒ‡ä»¤","aria-hidden":"true"}},[a._v("#")]),a._v(" æ‰‹åŠ¨è°ƒåº¦æŒ‡ä»¤")]),a._v(" "),t("p",[a._v("ç»éªŒæ³•åˆ™ï¼š"),t("strong",[a._v("é¢„æµ‹æµæ°´çº¿æ°”æ³¡ï¼Œå°†å…¶æ›¿æ¢æˆæœ‰ç”¨çš„å·¥ä½œ")])]),a._v(" "),t("h3",{attrs:{id:"é˜²æ­¢é€»è¾‘çª—å£æº¢å‡º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é˜²æ­¢é€»è¾‘çª—å£æº¢å‡º","aria-hidden":"true"}},[a._v("#")]),a._v(" é˜²æ­¢é€»è¾‘çª—å£æº¢å‡º")]),a._v(" "),t("p",[a._v("ç»éªŒæ³•åˆ™ï¼š"),t("strong",[a._v("ä¼˜å…ˆä½¿ç”¨æœ€ä½ç¼–å·çš„å¯„å­˜å™¨")])]),a._v(" "),t("p",[a._v("å½“é€»è¾‘çª—å£åœ¨ç‰©ç†å¯„å­˜å™¨æ–‡ä»¶ä¸­æ—‹è½¬æ—¶ï¼Œæœ‰å¯èƒ½ä¼šå‘ç”Ÿçª—å£æº¢å‡ºï¼Œæ­¤æ—¶éœ€è¦å¯¹å…¶ä½™å‡½æ•°çš„ä¸Šä¸‹æ–‡è¿›è¡Œä¿å­˜ï¼Œä¼šå¸¦æ¥é¢å¤–çš„å¼€é”€ã€‚æ‰€ä»¥å¦‚æœå‡½æ•°ä»…ä»…ä½¿ç”¨ä¸¤ä¸ªå¯„å­˜å™¨ï¼Œé‚£å°±é€‰æ‹©"),t("code",[a._v("a2")]),a._v("å’Œ"),t("code",[a._v("a3")]),a._v("ï¼Œä½¿ç”¨"),t("code",[a._v("a4")]),a._v("~"),t("code",[a._v("a15")]),a._v("ä¸­çš„ä»»ä½•ä¸€ä¸ªéƒ½å¯èƒ½ä¼šé€ æˆçª—å£æº¢å‡ºã€‚å¦‚æœå‡½æ•°éœ€è¦ä½¿ç”¨3ä¸ªå¯„å­˜å™¨ï¼Œé€‰æ‹©"),t("code",[a._v("a2")]),a._v("ï¼Œ"),t("code",[a._v("a3")]),a._v("å¤–åŠ "),t("code",[a._v("a4")]),a._v("-"),t("code",[a._v("a7")]),a._v("ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œè¿™å››ä¸ªå¯„å­˜å™¨æ˜¯åœ¨åŒä¸€ç‰‡å¯„å­˜å™¨ç»ç’ƒ(window pane)ä¸Šï¼Œæ‰€ä»¥ä»–ä»¬è§¦å‘çª—å£æº¢å‡ºçš„æ¦‚ç‡æ˜¯ä¸€æ ·çš„ã€‚")]),a._v(" "),t("h3",{attrs:{id:"è·å–ç¨‹åºè®¡æ•°å™¨-pc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è·å–ç¨‹åºè®¡æ•°å™¨-pc","aria-hidden":"true"}},[a._v("#")]),a._v(" è·å–ç¨‹åºè®¡æ•°å™¨(PC)")]),a._v(" "),t("p",[a._v("Xtensaæ¶æ„æ²¡æœ‰æä¾›è¯»å–PCå€¼çš„æŒ‡ä»¤ï¼Œæ¨èä½¿ç”¨å¦‚ä¸‹ä»£ç æ¥è¯»å–PCå€¼ï¼š")]),a._v(" "),t("div",{staticClass:"language-assembly line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("movi a2, 1f\n1:\n// a2 contains the value of label 1\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("h3",{attrs:{id:"å°½é‡ä½¿ç”¨coreasm-hä¸­çš„å®å®šä¹‰æ¥å±è”½ä¸åŒå¤„ç†å™¨çš„å·®å¼‚"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å°½é‡ä½¿ç”¨coreasm-hä¸­çš„å®å®šä¹‰æ¥å±è”½ä¸åŒå¤„ç†å™¨çš„å·®å¼‚","aria-hidden":"true"}},[a._v("#")]),a._v(" å°½é‡ä½¿ç”¨"),t("code",[a._v("coreasm.h")]),a._v("ä¸­çš„å®å®šä¹‰æ¥å±è”½ä¸åŒå¤„ç†å™¨çš„å·®å¼‚")]),a._v(" "),t("p",[a._v("å¸¸ç”¨çš„åŠŸèƒ½æœ‰ï¼š")]),a._v(" "),t("ol",[t("li",[a._v("æŸ¥æ‰¾å¯„å­˜å™¨ä¸­è¢«è®¾ç½®çš„æœ€é«˜æˆ–è€…æœ€ä½çš„æœ‰æ•ˆä½")]),a._v(" "),t("li",[a._v("å¾ªç¯æ„é€ å™¨")]),a._v(" "),t("li",[a._v("æœ‰æ¡ä»¶åœ°è¯»å–å’Œè®¾ç½®ä¸­æ–­çº§åˆ«")]),a._v(" "),t("li",[a._v("çª—å£æº¢å‡ºåŠŸèƒ½")])]),a._v(" "),t("h2",{attrs:{id:"xtensaçš„å¼‚å¸¸æ¶æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xtensaçš„å¼‚å¸¸æ¶æ„","aria-hidden":"true"}},[a._v("#")]),a._v(" Xtensaçš„å¼‚å¸¸æ¶æ„")]),a._v(" "),t("h4",{attrs:{id:"ç¨‹åºçŠ¶æ€ï¼ˆpsï¼‰å¯„å­˜å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¨‹åºçŠ¶æ€ï¼ˆpsï¼‰å¯„å­˜å™¨","aria-hidden":"true"}},[a._v("#")]),a._v(" ç¨‹åºçŠ¶æ€ï¼ˆPSï¼‰å¯„å­˜å™¨")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://s2.ax1x.com/2019/01/09/FLb6Bt.png",alt:"FLb6Bt.png"}})])])},[],!1,null,null,null);s.default=e.exports}}]);