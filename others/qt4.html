<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>suda-morris ä¸ªäººåšå®¢</title>
    <meta name="description" content="è®°å½•å­¦ä¹ ç”Ÿæ´»ï¼Œæ¢ç´¢æœªçŸ¥é¢†åŸŸ">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/blog/favicon.png">
  <link rel="manifest" href="/blog/manifest.json">
    
    <link rel="preload" href="/blog/assets/css/0.styles.0b089c3e.css" as="style"><link rel="preload" href="/blog/assets/js/app.c188fdbb.js" as="script"><link rel="preload" href="/blog/assets/js/3.f84f9de6.js" as="script"><link rel="preload" href="/blog/assets/js/72.bb048ac9.js" as="script"><link rel="preload" href="/blog/assets/js/8.6c290bcf.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.454ac533.js"><link rel="prefetch" href="/blog/assets/js/11.e63ff7cd.js"><link rel="prefetch" href="/blog/assets/js/12.eb11126a.js"><link rel="prefetch" href="/blog/assets/js/13.899104f6.js"><link rel="prefetch" href="/blog/assets/js/14.00f454d8.js"><link rel="prefetch" href="/blog/assets/js/15.27b27203.js"><link rel="prefetch" href="/blog/assets/js/16.b500e478.js"><link rel="prefetch" href="/blog/assets/js/17.baa39582.js"><link rel="prefetch" href="/blog/assets/js/18.b8013c23.js"><link rel="prefetch" href="/blog/assets/js/19.9520deb2.js"><link rel="prefetch" href="/blog/assets/js/2.b033ffad.js"><link rel="prefetch" href="/blog/assets/js/20.d95db026.js"><link rel="prefetch" href="/blog/assets/js/21.4406b39e.js"><link rel="prefetch" href="/blog/assets/js/22.b365bd44.js"><link rel="prefetch" href="/blog/assets/js/23.1ccec693.js"><link rel="prefetch" href="/blog/assets/js/24.6873251d.js"><link rel="prefetch" href="/blog/assets/js/25.7fbf2fe5.js"><link rel="prefetch" href="/blog/assets/js/26.02f4a8ee.js"><link rel="prefetch" href="/blog/assets/js/27.b3f49fe0.js"><link rel="prefetch" href="/blog/assets/js/28.d3db2c4d.js"><link rel="prefetch" href="/blog/assets/js/29.a825dba5.js"><link rel="prefetch" href="/blog/assets/js/30.62fac0ac.js"><link rel="prefetch" href="/blog/assets/js/31.133d543f.js"><link rel="prefetch" href="/blog/assets/js/32.7500879d.js"><link rel="prefetch" href="/blog/assets/js/33.322513ac.js"><link rel="prefetch" href="/blog/assets/js/34.4e6d8c3f.js"><link rel="prefetch" href="/blog/assets/js/35.54c717d2.js"><link rel="prefetch" href="/blog/assets/js/36.a7f79166.js"><link rel="prefetch" href="/blog/assets/js/37.36429af5.js"><link rel="prefetch" href="/blog/assets/js/38.7881edb5.js"><link rel="prefetch" href="/blog/assets/js/39.06fd6a45.js"><link rel="prefetch" href="/blog/assets/js/4.bba2ac7f.js"><link rel="prefetch" href="/blog/assets/js/40.af1d496e.js"><link rel="prefetch" href="/blog/assets/js/41.85fbcb08.js"><link rel="prefetch" href="/blog/assets/js/42.0667b13e.js"><link rel="prefetch" href="/blog/assets/js/43.4a679c70.js"><link rel="prefetch" href="/blog/assets/js/44.ab944a6a.js"><link rel="prefetch" href="/blog/assets/js/45.dc392203.js"><link rel="prefetch" href="/blog/assets/js/46.a7d4f590.js"><link rel="prefetch" href="/blog/assets/js/47.5032d7a4.js"><link rel="prefetch" href="/blog/assets/js/48.482a1bc0.js"><link rel="prefetch" href="/blog/assets/js/49.38eea09f.js"><link rel="prefetch" href="/blog/assets/js/5.c33a25f8.js"><link rel="prefetch" href="/blog/assets/js/50.4b47897a.js"><link rel="prefetch" href="/blog/assets/js/51.9b88ea7a.js"><link rel="prefetch" href="/blog/assets/js/52.4218a568.js"><link rel="prefetch" href="/blog/assets/js/53.f0a61fb0.js"><link rel="prefetch" href="/blog/assets/js/54.550ce1ed.js"><link rel="prefetch" href="/blog/assets/js/55.8b9c26ea.js"><link rel="prefetch" href="/blog/assets/js/56.866f759e.js"><link rel="prefetch" href="/blog/assets/js/57.885fa78b.js"><link rel="prefetch" href="/blog/assets/js/58.4f010f29.js"><link rel="prefetch" href="/blog/assets/js/59.6405def7.js"><link rel="prefetch" href="/blog/assets/js/6.704d0670.js"><link rel="prefetch" href="/blog/assets/js/60.dbce7b5d.js"><link rel="prefetch" href="/blog/assets/js/61.aaf8bd80.js"><link rel="prefetch" href="/blog/assets/js/62.82d7a168.js"><link rel="prefetch" href="/blog/assets/js/63.a8c5817c.js"><link rel="prefetch" href="/blog/assets/js/64.2be5a869.js"><link rel="prefetch" href="/blog/assets/js/65.9b1ef8dc.js"><link rel="prefetch" href="/blog/assets/js/66.069381cd.js"><link rel="prefetch" href="/blog/assets/js/67.43d7ef6e.js"><link rel="prefetch" href="/blog/assets/js/68.4c181b32.js"><link rel="prefetch" href="/blog/assets/js/69.cbae029d.js"><link rel="prefetch" href="/blog/assets/js/7.ab9fc71a.js"><link rel="prefetch" href="/blog/assets/js/70.50b546ed.js"><link rel="prefetch" href="/blog/assets/js/71.98fcc171.js"><link rel="prefetch" href="/blog/assets/js/73.e5a9b21f.js"><link rel="prefetch" href="/blog/assets/js/74.42ecf6ab.js"><link rel="prefetch" href="/blog/assets/js/75.02d59071.js"><link rel="prefetch" href="/blog/assets/js/76.0a03f86b.js"><link rel="prefetch" href="/blog/assets/js/77.dc0e7011.js"><link rel="prefetch" href="/blog/assets/js/78.e7c878cf.js"><link rel="prefetch" href="/blog/assets/js/79.bf51f552.js"><link rel="prefetch" href="/blog/assets/js/80.1eac70f1.js"><link rel="prefetch" href="/blog/assets/js/81.078e4670.js"><link rel="prefetch" href="/blog/assets/js/82.8515a92b.js"><link rel="prefetch" href="/blog/assets/js/83.a904f942.js"><link rel="prefetch" href="/blog/assets/js/84.3fe3fb97.js"><link rel="prefetch" href="/blog/assets/js/9.fc3f06f6.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.0b089c3e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">suda-morris ä¸ªäººåšå®¢</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/blog/cs/" class="nav-link">
  CS
</a></div><div class="nav-item"><a href="/blog/ee/" class="nav-link">
  EE
</a></div><div class="nav-item"><a href="/blog/others/" class="nav-link router-link-active">
  Others
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://asciiflow.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ascii Flow
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://beautifuldingbats.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Beautiful Dingbats
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://devdocs.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  DevDocs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.diagrams.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Diagrams
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://explainshell.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Explain Shell
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.figma.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Figma
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://send.firefox.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  File Sharing
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.neat-reader.com/webapp#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Neat Reader
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://bootlin.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bootlin
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mirrors.tuna.tsinghua.edu.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TUNA
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Books" class="dropdown-title"><span class="title">Books</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://goalkicker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GoalKicker Free Programming Books
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/suda-morris/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/blog/cs/" class="nav-link">
  CS
</a></div><div class="nav-item"><a href="/blog/ee/" class="nav-link">
  EE
</a></div><div class="nav-item"><a href="/blog/others/" class="nav-link router-link-active">
  Others
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://asciiflow.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ascii Flow
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://beautifuldingbats.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Beautiful Dingbats
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://devdocs.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  DevDocs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.diagrams.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Diagrams
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://explainshell.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Explain Shell
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.figma.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Figma
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://send.firefox.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  File Sharing
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.neat-reader.com/webapp#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Neat Reader
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://bootlin.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bootlin
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mirrors.tuna.tsinghua.edu.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TUNA
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Books" class="dropdown-title"><span class="title">Books</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://goalkicker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GoalKicker Free Programming Books
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/suda-morris/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/blog/others/about.html" class="sidebar-link">å…³äºæœ¬æ ç›®</a></li><li><a href="/blog/others/markdown.html" class="sidebar-link">ğ™ˆğ™–ğ™§ğ™ ğ™™ğ™¤ğ™¬ğ™£ åŸºæœ¬è¯­æ³•</a></li><li><a href="/blog/others/mdp-template.html" class="sidebar-link">ğ™¢ğ™™ğ™¥ æ¼”ç¤ºæ–‡ç¨¿</a></li><li><a href="/blog/others/oral_english.html" class="sidebar-link">å¸¸ç”¨å£è¯­</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>title: QT4 Basic
tags:</p> <ul><li>Qt4
categories:</li> <li>GUI
author: suda-morris
date: 2015-07-19 20:52:44</li></ul> <hr> <h2 id="qtæ ¸å¿ƒæ¨¡å—"><a href="#qtæ ¸å¿ƒæ¨¡å—" class="header-anchor">#</a> Qtæ ¸å¿ƒæ¨¡å—</h2> <p>Qtæ˜¯ä¸€ä¸ªå¤§åº“ï¼Œç”±æ•°ä¸ªè¾ƒå°çš„åº“æˆ–è€…æ¨¡å—ç»„æˆï¼Œå…¶ä¸­æœ€ä¸ºå¸¸è§çš„æœ‰å¦‚ä¸‹è¿™äº›ï¼Œé™¤äº†coreå’Œguiï¼Œå…¶ä½™æ¨¡å—éƒ½éœ€è¦åœ¨qmakeçš„å·¥ç¨‹æ–‡ä»¶ä¸­å¯ç”¨ï¼š</p> <ol><li>coreï¼šåŒ…æ‹¬QObjectï¼ŒQThreadï¼ŒQFileï¼ŒQvariantç­‰ç­‰</li> <li>guiï¼šæ‰€æœ‰ä»QWidgetæ´¾ç”Ÿçš„ç±»å¤–åŠ ä¸€äº›ç›¸å…³çš„ç±»</li> <li>xmlï¼šç”¨äºè§£æå’Œåºåˆ—åŒ–XML</li> <li>sqlï¼šç”¨äºä¸SQLæ•°æ®åº“é€šä¿¡</li> <li>phononï¼šç”¨äºæ’­æ”¾å¤šåª’ä½“æ–‡ä»¶</li> <li>webkitï¼šç”¨äºä½¿ç”¨ä¸€ç§åµŒå…¥å¼webæµè§ˆå™¨ï¼ŒQtWebkit</li></ol> <h2 id="å·¥ç¨‹æ–‡ä»¶-pro"><a href="#å·¥ç¨‹æ–‡ä»¶-pro" class="header-anchor">#</a> å·¥ç¨‹æ–‡ä»¶.pro</h2> <ol><li>å¯¹äºQtç¨‹åºï¼Œç¨‹åºä¸å¿…ç¼–å†™Makefileæ–‡ä»¶ï¼ŒQtæä¾›äº†ä¸€ä¸ªqmakeå·¥å…·ï¼Œå®ƒä¼šæ ¹æ®å·¥ç¨‹æ–‡ä»¶æ¥äº§ç”Ÿå¯¹åº”çš„Makefileæ–‡ä»¶ã€‚äº¦å¯ä»¥ç”¨qmake -projectå‘½ä»¤äº§ç”Ÿä¸€ä¸ªç®€å•çš„å·¥ç¨‹æ–‡ä»¶ï¼Œå½“æ‰§è¡Œè¿™ä¸ªå‘½ä»¤çš„æ—¶å€™ï¼Œqmakeä¼šå°†å½“å‰å·¥ä½œç›®å½•ä¸‹çš„å…¨éƒ¨æºæ–‡ä»¶(<em>.cpp)ä½œä¸ºSOURCESåˆ—å‡ºæ¥ï¼Œè€Œå°†è¯¥ç›®å½•ä¸‹çš„å…¨éƒ¨å¤´æ–‡ä»¶(</em>.h)ä½œä¸ºHEADERSåˆ—å‡ºæ¥ã€‚æœ€ç»ˆç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶çš„åç§°ç”±TARGETå˜é‡æŒ‡å®šï¼Œå…¶é»˜è®¤ä¸ºå·¥ç¨‹çš„åç§°</li> <li>TEMPLATE=appï¼Œè¡¨æ˜qmakeåº”è¯¥ä»¥ä¸€ä¸ªé€‚åˆå»ºç«‹è¿™ä¸ªåº”ç”¨çš„æ¨¡æ¿åŒ–çš„Makefileå¼€å§‹ï¼Œå¦‚æœè¿™ä¸ªå·¥ç¨‹æ–‡ä»¶ç”¨äºå»ºç«‹åº“ï¼Œåˆ™åº”å½“ä½¿ç”¨è¯­å¥TEMPLATE=libï¼Œä»¥è¡¨æ˜åº”ä½¿ç”¨Makefileåº“æ¨¡æ¿ã€‚ç¬¬ä¸‰ç§å¯èƒ½æ˜¯æºä»£ç æ–‡ä»¶åˆ†å¸ƒåœ¨å¤šä¸ªå­ç›®å½•ä¸‹ï¼Œè€Œæ¯ä¸€ä¸ªå­ç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½å…·æœ‰è‡ªå·±çš„å·¥ç¨‹æ–‡ä»¶ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œä½äºçˆ¶ç›®å½•çš„å·¥ç¨‹æ–‡ä»¶ä¸­åº”è¯¥åŒ…å«è¯­å¥TMPLATE=subdirsï¼Œè¿™ä¼šå¯¼è‡´åœ¨çˆ¶ç›®å½•å’Œæ¯ä¸€ä¸ªå­ç›®å½•ä¸‹éƒ½ç”ŸæˆMalefile</li> <li>æ·»åŠ åº“ï¼šLIBS += -Lpathtolibs</li> <li>CONFIG += consoleè¡¨ç¤ºæ˜¯æ§åˆ¶å°ç¨‹åº</li> <li>å½“ç¼–å†™å¹¶æµ‹è¯•å®Œåº“ä¹‹åï¼Œåœ¨ç¼–è¯‘é“¾æ¥è¿‡ç¨‹ç»“æŸåå®ƒå°†è¢«å®‰è£…åˆ°ç”±qmakeå˜é‡DESTDIRæŒ‡å®šçš„ç›®å½•ä¸‹ã€‚ä¾‹å¦‚ï¼Œdataobjectsåº“çš„å·¥ç¨‹æ–‡ä»¶åŒ…å«å¦‚ä¸‹ç›¸å…³çš„è¡Œï¼š
<ul><li>TEMPLATE = lib</li> <li>DESTDIR = pathto_install_libs</li></ul></li> <li>å¯¹äºåº“æ¨¡æ¿ï¼Œqmakeå°†äº§ç”Ÿä¸€ä¸ªåŒ…å«installç›®æ ‡çš„Makefileï¼Œè¿™æ ·ï¼Œåœ¨æˆåŠŸç¼–è¯‘é“¾æ¥ä¹‹åæ‰§è¡Œå‘½ä»¤make installå°†ä¼šæŠŠè¿™ä¸ªåº“å¤åˆ¶åˆ°æŸä¸ªç‰¹å®šçš„ä½ç½®</li></ol> <h2 id="qtä¸­è·å–å‘½ä»¤è¡Œå‚æ•°"><a href="#qtä¸­è·å–å‘½ä»¤è¡Œå‚æ•°" class="header-anchor">#</a> Qtä¸­è·å–å‘½ä»¤è¡Œå‚æ•°</h2> <ul><li>QCoreApplication app(argc,argv);</li> <li>QStringList arglist = app.arguments();</li> <li>arglist.sizeç­‰äºå‘½ä»¤è¡Œå‚æ•°çš„ä¸ªæ•°</li></ul> <h2 id="qtä¸­çš„å­—ç¬¦ä¸²"><a href="#qtä¸­çš„å­—ç¬¦ä¸²" class="header-anchor">#</a> Qtä¸­çš„å­—ç¬¦ä¸²</h2> <ol><li>const char*ï¼Œä¸»è¦ç”¨äºä¸Cè¯­è¨€åº“çš„æ¥å£</li> <li>æ¥è‡ªC++æ ‡å‡†åº“çš„stringï¼Œä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨è¿™ç§ç±»å‹</li> <li>QStringï¼Œä¼˜äºSTLä¸­çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œæœ‰ç€æ›´åŠ ä¸°å¯Œçš„APIè€Œä¸”æ›´åŠ å®¹æ˜“ä½¿ç”¨ã€‚</li> <li>åœ¨Qtä¸­ä½¿ç”¨ç±»ä¼¼äºiostreamä¸­çš„cinï¼Œcoutï¼š
<ul><li>#include &lt;QString&gt;</li> <li>#include &lt;QTextStream&gt;</li> <li>QTextStream cout(stdout)</li> <li>QTextStream cin(stdin)</li> <li>cin.readLine()</li></ul></li> <li>sizeof(QString)=4,sizeof(QChar)=2,sizeof(QDate)=4,sizeof(qint32)=4,sizeof(qint64)=8;QStringæ˜¯ä¸€ä¸ªä½¿ç”¨åŠ¨æ€å†…å­˜çš„å¤æ‚ç±»ï¼Œå› æ­¤å¿…é¡»è°ƒç”¨length()æ¥è·å¾—å­—ç¬¦ä¸²ä¸­QCharçš„æ•°é‡ã€‚ç”±äºQCharçš„å¤§å°ä¸ºcharçš„ä¸¤å€ï¼Œæ‰€ä»¥åœ¨è®¡ç®—å†…å­˜ä¸­QStringä¸­å®é™…å¤§å°æ—¶éœ€è¦å°†é•¿åº¦ä¹˜ä»¥2ï¼Œåœ¨è¿è¡Œæ—¶ï¼ŒQStringèƒ½å¤Ÿä¸å…·æœ‰åŒä¸€ä¸ªå€¼çš„å¦ä¸€ä¸ªå­—ç¬¦ä¸²å…±äº«å†…å­˜</li></ol> <h2 id="å»æ‰æœ€å¤§ã€æœ€å°ã€å…³é—­æŒ‰é’®"><a href="#å»æ‰æœ€å¤§ã€æœ€å°ã€å…³é—­æŒ‰é’®" class="header-anchor">#</a> å»æ‰æœ€å¤§ã€æœ€å°ã€å…³é—­æŒ‰é’®</h2> <blockquote><p>setWindowFlags(windowFlags()|Qt::FramelessWindowHint|Qt::WindowTitleHint);</p></blockquote> <h2 id="ä½¿ç”¨ä¸­æ–‡"><a href="#ä½¿ç”¨ä¸­æ–‡" class="header-anchor">#</a> ä½¿ç”¨ä¸­æ–‡</h2> <blockquote><ol><li>ä¸‹è½½qpfæ ¼å¼çš„font_wenquanyiå­—ä½“ï¼Œå°†ä¸‹è½½çš„å­—åº“æ–‡ä»¶å¤åˆ¶åˆ°qtå®‰è£…ç›®å½•çš„lib/fontså­ç›®å½•ä¸‹</li></ol></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>\#include &lt;QTextCodec&gt;
	QApplication a(argc, argv);
    QTextCodec::setCodecForLocale(QTextCodec::codecForName(&quot;UTF-8&quot;)); 	//ä¸­æ–‡æ”¯æŒ
    QTextCodec::setCodecForTr(QTextCodec::codecForName(&quot;UTF-8&quot;));       //æ”¯æŒTrä¸­æ–‡
    QTextCodec::setCodecForCStrings(QTextCodec::codecForName(&quot;UTF-8&quot;)); //æ”¯æŒä¸­æ–‡æ–‡ä»¶åæ˜¾ç¤º
    QFont font;
    font.setPointSize(160); 											//å®é™…ä¸Šæ˜¯16çš„å­—å·ï¼Œä½†è®¾æˆ16å´ä¸è¡Œ
    font.setFamily((&quot;wenquanyi&quot;));
    font.setBold(false);
    a.setFont(font);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="éšè—é¼ æ ‡ç®­å¤´"><a href="#éšè—é¼ æ ‡ç®­å¤´" class="header-anchor">#</a> éšè—é¼ æ ‡ç®­å¤´</h2> <blockquote><ol><li>å¯¹äºæ•´ä¸ªç¨‹åº: QApplication::setOverrideCursor(Qt::BlankCursor);</li> <li>å¯¹å•ä¸ªæ§ä»¶ï¼šlable-&gt;setCursor(Qt::BlankCursor);//éšè—é¼ æ ‡  label-&gt;setCursor(Qt::ArrowCursor);//æ˜¾ç¤ºæ­£å¸¸é¼ æ ‡</li></ol></blockquote> <h2 id="qstringlistä¸è¿­ä»£"><a href="#qstringlistä¸è¿­ä»£" class="header-anchor">#</a> QStringListä¸è¿­ä»£</h2> <blockquote><ol><li>QStringListå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªQList<QString>,æ­¤å¤–ï¼ŒQStringListè¿˜å…·æœ‰ä¸€äº›ç‰¹åˆ«é’ˆå¯¹å­—ç¬¦ä¸²çš„æ–¹ä¾¿å‡½æ•°ï¼Œä¾‹å¦‚indexOf(),join()å’ŒreplaceInStrings()ã€‚åˆ©ç”¨split()å‡½æ•°å’Œjoin()å‡½æ•°ï¼Œåœ¨åˆ—è¡¨ä¸å­—ç¬¦ä¸²ä¹‹é—´è¿›è¡Œè½¬æ¢ç›¸å½“ç®€å•</QString></li> <li>QStringListå¯¹è±¡å¯ä»¥è°ƒç”¨æ–¹æ³•takeFirst()æ¥ä¾æ¬¡è·å¾—åˆ—è¡¨ä¸­çš„å­—ç¬¦ä¸²å¯¹è±¡</li></ol></blockquote> <div class="language-C line-numbers-mode"><pre class="language-c"><code>QString winter <span class="token operator">=</span> <span class="token string">&quot;December,January,February&quot;</span><span class="token punctuation">;</span>
QString spring <span class="token operator">=</span> <span class="token string">&quot;March,April,May&quot;</span><span class="token punctuation">;</span>
QString summer <span class="token operator">=</span> <span class="token string">&quot;June,July,August&quot;</span><span class="token punctuation">;</span>
QString fall <span class="token operator">=</span> <span class="token string">&quot;September,October,November&quot;</span><span class="token punctuation">;</span>

QStringList list<span class="token punctuation">;</span>
list <span class="token operator">&lt;&lt;</span> winter<span class="token punctuation">;</span>
list <span class="token operator">+=</span> spring<span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>summer<span class="token punctuation">)</span><span class="token punctuation">;</span>
list <span class="token operator">&lt;&lt;</span> fall<span class="token punctuation">;</span>

QString allmonths <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">/*ä»åˆ—è¡¨åˆ°å­—ç¬¦ä¸²ï¼Œä»¥é€—å·ä¸ºåˆ†éš”ç¬¦*/</span>
QStringList list2 <span class="token operator">=</span> allmonths<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/*ä»å­—ç¬¦ä¸²åˆ°åˆ—è¡¨ï¼Œä»¥é€—å·ä¸ºåˆ†éš”ç¬¦*/</span>

<span class="token function">foreach</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>str<span class="token punctuation">,</span>list<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">/*Qt foreachå¾ªç¯*/</span>
	<span class="token comment">//TODO</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span><span class="token punctuation">(</span>QStringList<span class="token operator">::</span>iterator it <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> list<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>it<span class="token punctuation">)</span><span class="token punctuation">{</span>
	QString current <span class="token operator">=</span> <span class="token operator">*</span>it<span class="token punctuation">;</span>
	<span class="token comment">//TODO</span>
<span class="token punctuation">}</span>

QListIterator<span class="token operator">&lt;</span>QString<span class="token operator">&gt;</span> <span class="token function">itr</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>itr<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	QString current <span class="token operator">=</span> itr<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//TODO</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="qdirï¼Œqfileinfoå’Œqdiriterator"><a href="#qdirï¼Œqfileinfoå’Œqdiriterator" class="header-anchor">#</a> QDirï¼ŒQFileInfoå’ŒQDirIterator</h2> <div class="language-C åˆ©ç”¨QDirç±»å’ŒQFileInfoç±»è·å–ç›®å½•çš„å†…å®¹åˆ—è¡¨ä»¥åŠå…³äºæ¯ä¸€ä¸ªé¡¹çš„ä¿¡æ¯ line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">recurseAddDir</span><span class="token punctuation">(</span>QDir d<span class="token punctuation">,</span>bool recursive<span class="token operator">=</span>true<span class="token punctuation">,</span>bool symlinks<span class="token operator">=</span>false<span class="token punctuation">)</span><span class="token punctuation">{</span>
	d<span class="token punctuation">.</span><span class="token function">setSorting</span><span class="token punctuation">(</span>QDir<span class="token operator">::</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	QDir<span class="token operator">::</span>Filters df <span class="token operator">=</span> QDir<span class="token operator">::</span>Files <span class="token operator">|</span> QDir<span class="token operator">::</span>NoDotAndDotDot<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>recursive<span class="token punctuation">)</span> df <span class="token operator">|=</span> QDir<span class="token operator">::</span>Dirs<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>not symlinks<span class="token punctuation">)</span> df <span class="token operator">|=</span> QDir<span class="token operator">::</span>NoSymLinks<span class="token punctuation">;</span>
	QStringList qsl <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">entryList</span><span class="token punctuation">(</span>df<span class="token punctuation">,</span>QDir<span class="token operator">::</span>Name<span class="token operator">|</span>QDir<span class="token operator">::</span>DirsFirst<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">foreach</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>entry<span class="token punctuation">,</span>qsl<span class="token punctuation">)</span><span class="token punctuation">{</span>
		QFileInfo <span class="token function">finfo</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>finfo<span class="token punctuation">.</span><span class="token function">isDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			QDir <span class="token function">sd</span><span class="token punctuation">(</span>finfo<span class="token punctuation">.</span><span class="token function">absoluteFilePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">recurseAddDir</span><span class="token punctuation">(</span>sd<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>finfo<span class="token punctuation">.</span><span class="token function">completeSuffix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">&quot;mp3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token function">addMp3File</span><span class="token punctuation">(</span>finfo<span class="token punctuation">.</span><span class="token function">absoluteFilePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-C ä½¿ç”¨QDirIteratorå®ç°ç›¸åŒåŠŸèƒ½ line-numbers-mode"><pre class="language-c"><code>QDir dir <span class="token operator">=</span> QDir<span class="token operator">::</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QDirIterator <span class="token function">qdi</span><span class="token punctuation">(</span>dir<span class="token punctuation">.</span><span class="token function">absolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QStringList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;*.mp3&quot;</span><span class="token punctuation">,</span> QDir<span class="token operator">::</span>NoSymLinks <span class="token operator">|</span> QDir<span class="token operator">::</span>Files<span class="token punctuation">,</span> QDirIterator<span class="token operator">::</span>Subdirectories<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>qdi<span class="token punctuation">.</span>hasNext<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">addMp3File</span><span class="token punctuation">(</span>qdi<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//TODO</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="qdate"><a href="#qdate" class="header-anchor">#</a> QDate</h2> <blockquote><ol><li>static QDate currentDate = QDate::currentDate();</li></ol></blockquote> <h2 id="qtä¸­å­—ç¬¦ä¸²çš„æ•°æ®æµæ“ä½œ"><a href="#qtä¸­å­—ç¬¦ä¸²çš„æ•°æ®æµæ“ä½œ" class="header-anchor">#</a> Qtä¸­å­—ç¬¦ä¸²çš„æ•°æ®æµæ“ä½œ</h2> <div class="language-C line-numbers-mode"><pre class="language-c"><code>QString Student<span class="token operator">::</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">{</span>
	QString retval<span class="token punctuation">;</span>
	QTextStream <span class="token function">os</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>retval<span class="token punctuation">)</span><span class="token punctuation">;</span>
	os <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;name:&quot;</span> <span class="token operator">&lt;&lt;</span> m_Name <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;;ID:&quot;</span> <span class="token operator">&lt;&lt;</span> m_StudentID<span class="token punctuation">;</span>
	<span class="token keyword">return</span> retval<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>qDeleteAll(container)åªå¯¹åŒ…å«æŒ‡é’ˆçš„å®¹å™¨æœ‰æ„ä¹‰ï¼Œè¯¥å‡½æ•°å°†é‡Šæ”¾æ‰€æœ‰å¯¹è±¡ï¼Œä½†å¹¶ä¸åˆ é™¤å®¹å™¨ä¸­çš„æŒ‡é’ˆï¼›åˆ é™¤å®¹å™¨ä¸­çš„æŒ‡é’ˆéœ€è¦è°ƒç”¨å®¹å™¨çš„clear()å‡½æ•°</p></blockquote> <h2 id="å®¹å™¨ï¼ˆqtå®¹å™¨è¢«å®šä¹‰æˆæ¨¡æ¿ç±»ï¼‰"><a href="#å®¹å™¨ï¼ˆqtå®¹å™¨è¢«å®šä¹‰æˆæ¨¡æ¿ç±»ï¼‰" class="header-anchor">#</a> å®¹å™¨ï¼ˆQtå®¹å™¨è¢«å®šä¹‰æˆæ¨¡æ¿ç±»ï¼‰</h2> <blockquote><ol><li>QList<T>æ˜¯ç”¨æ•°ç»„å®ç°çš„ï¼Œæ•°ç»„çš„ä¸¤ç«¯éƒ½æœ‰é¢„åˆ†é…çš„ç©ºé—´ã€‚å®ƒé’ˆå¯¹æŒ‰ç´¢å¼•çš„éšæœºè®¿é—®ä»¥åŠå°‘äº1000é¡¹çš„åˆ—è¡¨è¿›è¡Œäº†ä¼˜åŒ–ã€‚å¯¹äºprepend()å’Œappend()è¿™æ ·çš„æ“ä½œï¼Œå®ƒæœ‰å¾ˆå¥½çš„æ€§èƒ½è¡¨ç°</T></li> <li>QStringListæ˜¯æ´¾ç”Ÿè‡ªQList<QString>çš„ä¸€ä¸ªä¾¿åˆ©ç±»</QString></li> <li>QLinkedList<T>é’ˆå¯¹è¿­ä»£å™¨çš„é¡ºåºè®¿é—®ä»¥åŠå¿«é€Ÿã€å¸¸é‡æ—¶é—´çš„åˆ—è¡¨æ’å…¥æ“ä½œè¿›è¡Œäº†ä¼˜åŒ–ï¼Œä½†æ’åºå’Œæœç´¢æ¯”è¾ƒç¼“æ…¢ã€‚å®ƒæä¾›å¤šä¸ªä¾¿åˆ©å‡½æ•°æ¥å¤„ç†é‚£äº›ç»å¸¸ç”¨åˆ°çš„æ“ä½œ
QVector<T>ä»¥è¿ç»­çš„å†…å­˜ä½ç½®ä¿å­˜æ•°æ®ï¼Œå¹¶é’ˆå¯¹æŒ‰ç´¢å¼•çš„éšæœºè®¿é—®è¿›è¡Œäº†ä¼˜åŒ–ã€‚é€šå¸¸è€Œè¨€ï¼ŒQVectorå¯¹è±¡éƒ½æ˜¯ç”¨å…¶åˆå§‹å¤§å°è¿›è¡Œæ„é€ çš„ï¼Œåœ¨å…¶ä¸¤ç«¯éƒ½ä¸å­˜åœ¨é¢„å…ˆè‡ªåŠ¨åˆ†é…çš„å†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥ä¸­é—´æºå…¥ã€æœ«ç«¯æ’å…¥ä»¥åŠå‰ç«¯æ’å…¥éƒ½æ˜¯è€—æ—¶çš„</T></T></li> <li>QStack<T>æ˜¯æ´¾ç”Ÿè‡ªQVector<T>çš„publicç±»ï¼Œæ‰€ä»¥QVectorç±»çš„publicæ¥å£å¯ä»¥ç”¨äºQStackå¯¹è±¡ã€‚ä¸è¿‡ï¼Œpush(),pop()ä»¥åŠtop()å‡½æ•°é‡‡ç”¨çš„æ˜¯åå…¥å…ˆå‡º(LIFO)çš„è¯­æ³•</T></T></li> <li>QMap&lt;Key,T&gt;æ˜¯ä¸€ä¸ªæœ‰åºçš„å…³è”å®¹å™¨ï¼Œå®ƒä¿å­˜çš„æ˜¯é”®/å€¼å¯¹ï¼Œå…¶ä½œç”¨æ˜¯æ ¹æ®é”®æ¥å¿«é€Ÿæ‰¾åˆ°å¯¹åº”çš„å€¼ã€‚å®ƒä¹Ÿè¢«è®¾è®¡æˆæ”¯æŒé€‚é‡çš„å¿«é€Ÿæ’å…¥æ“ä½œå’Œåˆ é™¤æ“ä½œã€‚å®ƒå°†é”®æœ‰åºæ’åˆ—ï¼Œä»¥ä¾¿èƒ½å¤Ÿå¿«é€Ÿæœç´¢å’Œå¿«é€Ÿç¼©å°æœç´¢èŒƒå›´ï¼Œé‡‡ç”¨çš„æ˜¯ä¸€ä¸ªè·³è·ƒåˆ—è¡¨å­—å…¸ï¼Œè¿™ä¸ªå­—å…¸åœ¨æ¦‚ç‡ä¸Šæ˜¯å¹³è¡¡çš„å¹¶ä¸”é«˜æ•ˆçš„åˆ©ç”¨äº†å†…å­˜ã€‚é”®çš„ç±»å‹å¿…é¡»æ˜¯operator&lt;()å’Œoperator==()</li> <li>QHash&lt;Key,T&gt;ä¹Ÿæ˜¯ä¸€ä¸ªå…³è”å®¹å™¨ï¼Œå®ƒä½¿ç”¨å“ˆå¸Œè¡¨æ¥è¿›è¡Œé”®çš„æŸ¥æ‰¾ã€‚å®ƒæä¾›å¿«é€Ÿçš„æŸ¥æ‰¾(é”®ç²¾ç¡®åŒ¹é…)å’Œæ’å…¥æ“ä½œï¼Œä½†å…¶æœç´¢é€Ÿåº¦è¾ƒæ…¢ï¼Œä¸”æ²¡æœ‰æ’åºåŠŸèƒ½ã€‚é”®çš„ç±»å‹å¿…é¡»æ˜¯operator==()</li> <li>QMultiMap&lt;Key,T&gt;æ˜¯QMapçš„ä¸€ä¸ªå­ç±»ï¼Œè€ŒQMultiHash&lt;Key,T&gt;æ˜¯QHashçš„ä¸€ä¸ªå­ç±»ã€‚è¿™ä¸¤ä¸ªç±»æ˜¯çš„ä¸€ä¸ªé”®å¯ä»¥ä¸å¤šä¸ªå€¼å…³è”</li> <li>QCache&lt;Key,T&gt;æ˜¯ä¸€ä¸ªå…³è”å®¹å™¨ï¼Œå®ƒå¯¹æœ€è¿‘ä½¿ç”¨è¿‡çš„é¡¹æä¾›æœ€å¿«é€Ÿçš„è®¿é—®ï¼Œå¹¶ä¼šæ ¹æ®å‡ ä¸ªå¼€é”€å‡½æ•°çš„ç»“æœè‡ªåŠ¨ç§»é™¤å“ªäº›ä¸å¸¸ç”¨çš„é¡¹</li> <li>QSet<T>ç”¨QHashä¿å­˜Tç±»å‹çš„å€¼ï¼ŒQHashä¸­çš„é”®ä½äºTä¸­ï¼Œè€Œå…¶ä¸­çš„å“‘å€¼ä¸æ¯ä¸€ä¸ªé”®ç›¸å…³è”ã€‚è¿™ç§å®‰æ’å¯ä¼˜åŒ–æŸ¥æ‰¾å’Œæ’å…¥æ“ä½œã€‚QSetä¸­çš„å‡ ä¸ªå‡½æ•°ç”¨äºå¸¸è§„çš„é›†åˆæ“ä½œã€‚å®ƒçš„é»˜è®¤æ„é€ å‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªç©ºé›†åˆ</T></li></ol> <p><strong>ç”¨äºæ¨¡æ¿å®¹å™¨ç±»çš„ç±»å‹å‚æ•°Tï¼Œæˆ–è€…ç”¨äºå…³è”å®¹å™¨çš„é”®ç±»å‹éƒ½å¿…é¡»ä¸ºå¯èµ‹å€¼æ•°æ®ç±»å‹ï¼Œå³å€¼ç±»å‹ã€‚è¿™æ„å‘³ç€Tå¿…é¡»å…·æœ‰publicç±»å‹çš„é»˜è®¤æ„é€ å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ã€‚åŸºæœ¬ç±»ä¾‹å¦‚intï¼Œdoubleï¼Œcharå’ŒæŒ‡é’ˆéƒ½æ˜¯å¯èµ‹å€¼çš„ï¼Œæœ‰äº›Qtç±»å‹æ˜¯å¯èµ‹å€¼çš„ï¼Œä¾‹å¦‚QStringï¼ŒQDateï¼ŒQTimeã€‚QObjectä»¥åŠæ´¾ç”Ÿè‡ªQObjectçš„ç±»å‹éƒ½æ˜¯ä¸å¯èµ‹å€¼çš„ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨æŸç§ä¸å¯èµ‹å€¼ç±»å‹çš„å¯¹è±¡ï¼Œåˆ™å¯ä»¥å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆå®¹å™¨ï¼Œä¾‹å¦‚QList&lt;QFile*&gt;</strong></p></blockquote> <h2 id="qfile"><a href="#qfile" class="header-anchor">#</a> QFile</h2> <div class="language-C line-numbers-mode"><pre class="language-c"><code>QFile <span class="token function">outf</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;filename&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
outf<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token operator">::</span>WriteOnly<span class="token punctuation">)</span><span class="token punctuation">;</span>
QTextStream <span class="token function">outstr</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>outf<span class="token punctuation">)</span><span class="token punctuation">;</span>
outstr <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;content&quot;</span><span class="token punctuation">;</span>
outf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="åºåˆ—åŒ–å™¨æ¨¡å¼ï¼šqtextstreamå’Œqdatastream"><a href="#åºåˆ—åŒ–å™¨æ¨¡å¼ï¼šqtextstreamå’Œqdatastream" class="header-anchor">#</a> åºåˆ—åŒ–å™¨æ¨¡å¼ï¼šQTextStreamå’ŒQDataStream</h2> <blockquote><ol><li>åºåˆ—åŒ–å™¨æ˜¯ä¸€ç§åªè´Ÿè´£è¯»å–æˆ–è€…å†™å…¥å¯¹è±¡çš„å¯¹è±¡ï¼ŒQtçš„QTextStreamåºåˆ—åŒ–å™¨ç”¨äºè¯»å†™äººå¯è¯»çš„æ–‡ä»¶ï¼Œè€ŒQDataStreamåºåˆ—åŒ–å™¨ç”¨äºè¯»å†™ç»“æ„åŒ–çš„äºŒè¿›åˆ¶æ•°æ®ã€‚è¿™äº›ç±»éƒ½æ˜¯ç”¨åºåˆ—åŒ–å™¨æ¨¡å¼å®ç°çš„</li> <li>åˆ©ç”¨QDataStreamå°±å¯ä»¥åºåˆ—åŒ–å’Œè§£åºåˆ—åŒ–QVariantæ”¯æŒçš„å…¨éƒ¨ç±»å‹ï¼ŒåŒ…æ‹¬QListï¼ŒQMapï¼ŒQVectorä»¥åŠå…¶ä»–ç±»å‹ã€‚</li></ol></blockquote> <div class="language-C line-numbers-mode"><pre class="language-c"><code>QFile <span class="token function">textFile</span><span class="token punctuation">(</span><span class="token string">&quot;playlist1.tsv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QFile <span class="token function">binaryFile</span><span class="token punctuation">(</span><span class="token string">&quot;playlist1.bin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QTextStream textStreamï¼›
QDataStream dataStreamï¼›
<span class="token keyword">if</span><span class="token punctuation">(</span>textFile<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token operator">::</span>ReadOnly<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	textStream<span class="token punctuation">.</span><span class="token function">setDevice</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>textFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>binaryFile<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token operator">::</span>WriteOnly<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	dataStream<span class="token punctuation">.</span><span class="token function">setDevice</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>binaryFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
QList<span class="token operator">&lt;</span>MetaDataValue<span class="token operator">&gt;</span> values<span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>textStream<span class="token punctuation">.</span><span class="token function">atEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	MetaDataValue mdv<span class="token punctuation">;</span>
	textStream <span class="token operator">&gt;&gt;</span> mdv<span class="token punctuation">;</span>
	values <span class="token operator">&lt;&lt;</span> mdv<span class="token punctuation">;</span>
	dataStream <span class="token operator">&lt;&lt;</span> mdv<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="qobject"><a href="#qobject" class="header-anchor">#</a> QObject</h2> <blockquote><ol><li>QObjectæ˜¯Qtåº“ä¸­è®¸å¤šé‡è¦çš„ç±»çš„åŸºç±»ï¼Œå¦‚QEventï¼ŒQApplicationï¼ŒQLayoutå’ŒQWidgetã€‚</li> <li>QObjectä½¿åŸºäºäº‹ä»¶çš„ç¼–ç¨‹æˆä¸ºäº†å¯èƒ½ï¼Œå…¶ä¸­ç”¨åˆ°äº†QApplicationå’ŒQtçš„äº‹ä»¶å¾ªç¯</li> <li>QObjectæ²¡æœ‰å…¬æœ‰çš„æ‹·è´æ„é€ å‡½æ•°æˆ–å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ã€‚QObjectç±»å®šä¹‰çš„ç»“å°¾å¤„æœ‰ä¸€ä¸ªå®Q_DISABLE_COPY(QObject)ï¼Œå®ƒæ˜¾ç¤ºåœ°ç¡®ä¿ä»»ä½•QObjectéƒ½ä¸èƒ½è¢«å¤åˆ¶ã€‚QObjectä¸æ˜¯è®¾è®¡ç”¨äºå¤åˆ¶çš„ï¼ŒQObjectä¼šç”¨æ¥ä»£è¡¨å…·æœ‰å”¯ä¸€èº«ä»½çš„å¯¹è±¡ã€‚è¿™ç§ä¸å¸¦æ‹·è´æ„é€ å‡½æ•°ç­–ç•¥çš„ä¸€ä¸ªç›´æ¥åæœå°±æ˜¯æ°¸è¿œæ— æ³•é€šè¿‡å€¼ä¼ é€’æ–¹å¼å‘å‡½æ•°ä¼ é€’OBjectã€‚</li> <li>QObjectåŠå…¶æ´¾ç”Ÿç±»çš„å•å‚æ•°æ„é€ å‡½æ•°åº”å½“äºˆä»¥æ˜¾å¼å£°æ˜explicitï¼Œä»¥å…æ„å¤–çš„éšå¼è½¬æ¢çš„å‘ç”Ÿã€‚</li> <li>æ¯ä¸ªQObjectéƒ½å¯ä»¥æœ‰ï¼ˆè‡³å¤šï¼‰ä¸€ä¸ªçˆ¶QObjectï¼Œä¸”å¯ä»¥æ‹¥æœ‰ä»»æ„æ•°é‡çš„å­QObjectã€‚</li> <li>æ¯ä¸ªQObjectéƒ½å°†æŒ‡å‘å„ä¸ªå­å¯¹è±¡çš„æŒ‡é’ˆå­˜æ”¾åœ¨ä¸€ä¸ªQObjectListä¸­ï¼Œåœ¨è°ƒç”¨QObjectçš„ææ„å‡½æ•°æ—¶ä¼šè‡ªåŠ¨é”€æ¯è¯¥å¯¹è±¡çš„å­å¯¹è±¡</li> <li>é€šå¸¸è€Œè¨€ï¼Œæ²¡æœ‰çˆ¶å¯¹è±¡çš„QObjectåº”å½“åœ¨ç¨‹åºæ ˆåŒº(stack)ä¸­è¿›è¡Œå®šä¹‰ï¼Œè€Œé‚£äº›æœ‰çˆ¶å¯¹è±¡çš„QObjectåˆ™åº”å½“åœ¨å †åŒº(heap)åŠ¨æ€åˆ›å»ºå‡ºæ¥ï¼Œè¿™æ ·å¯æœ‰åŠ©äºç¡®ä¿å‘ç”Ÿæ­£ç¡®çš„ææ„æ“ä½œã€‚</li> <li>QObjectæœ‰ä¸€ä¸ªæˆå‘˜å‡½æ•°ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ªæŒ‡å‘ä¸»å¯¹è±¡ä¸­å…¨éƒ¨å­å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨ï¼šconst QObjeectList&amp; QObject::children() const</li> <li>QObjectè¿˜æä¾›äº†ä¸¤ä¸ªåç§°ä¸ºfindChildren()çš„é‡è½½(é€’å½’)æ¯ä¸ªéƒ½ä¼šè¿”å›ä¸€ä¸ªæ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å­å¯¹è±¡åˆ—è¡¨ï¼šQList<T> parentObj.findChildren<T>(const QString&amp; name=QString()) const è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªç±»å‹ä¸ºTçš„å­å¯¹è±¡åˆ—è¡¨ï¼Œå…¶å¯¹è±¡åä¸nameç›¸ç­‰ã€‚å¦‚æœnameæ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå°†ä¼šèµ·åˆ°ä¸€ä¸ªç±»è¿‡æ»¤å™¨çš„ä½œç”¨ï¼Œè¿”å›ç»“æœæ˜¯ä¸€ä¸ªQListï¼Œå…¶ä¸­åŒ…å«æŒ‡å‘å…¨éƒ¨å­å¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œè¿™äº›å­å¯¹è±¡éƒ½å¯ä»¥é€šè¿‡ç±»å‹è½¬æ¢å˜æˆç±»å‹Tçš„å¯¹è±¡</T></T></li></ol></blockquote> <div class="language-C line-numbers-mode"><pre class="language-c"><code>QList<span class="token operator">&lt;</span>Customer<span class="token operator">*</span><span class="token operator">&gt;</span> custlist <span class="token operator">=</span> parent<span class="token punctuation">.</span>findChildren<span class="token operator">&lt;</span>Customer<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
foreach <span class="token punctuation">(</span><span class="token keyword">const</span> Customer<span class="token operator">*</span> current<span class="token punctuation">,</span>custlist<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> current<span class="token operator">-&gt;</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="qevent"><a href="#qevent" class="header-anchor">#</a> QEvent</h2> <blockquote><ol><li>QEventç±»å°è£…äº†åº•å±‚äº‹ä»¶çš„æ¦‚å¿µã€‚QEventç±»æ˜¯è‹¥å¹²ç‰¹å®šäº‹ä»¶ç±»çš„åŸºç±»ï¼Œä¾‹å¦‚QActionEvent,QFileOpenEvent,QHoverEvent,QInputEvent,QMouseEventç­‰ã€‚QEventå¯¹è±¡å¯ä»¥ç”±çª—å£ç³»ç»Ÿåˆ›å»ºä»¥å“åº”ç”¨æˆ·çš„åŠ¨ä½œ(ä¾‹å¦‚ï¼ŒQMouseEvent)æˆ–æŒ‰ç…§æŒ‡å®šçš„æ—¶é—´é—´éš”(QTimerEvent)å®Œæˆåˆ›å»ºï¼Œä¹Ÿå¯ä»¥ç”±åº”ç”¨ç¨‹åºæ˜¾å¼åœ°åˆ›å»ºã€‚æˆå‘˜type()ä¼šè¿”å›ä¸€ä¸ªç¾å‰§ï¼Œå…¶ä¸­å«æœ‰è¿‘ç™¾ä¸ªç‰¹å®šçš„å€¼ï¼Œä»¥åŒºåˆ†ä¸åŒç§ç±»çš„å„å¼äº‹ä»¶(ä¾‹å¦‚,å…³é—­ã€DragEnterã€DragMoveã€æ”¾ä¸‹ã€è¾“å…¥ã€GrabMouseã€HoverEnterã€KeyPressã€MouseButtonDblClickã€MouseMoveã€Resize)</li> <li>ä¸€ä¸ªå…¸å‹çš„Qtç¨‹åºä¼šåˆ›å»ºå¯¹è±¡ï¼Œè¿æ¥å„ä¸ªå¯¹è±¡ï¼Œç„¶åå†å‘Šè¯‰åº”ç”¨ç¨‹åºå¼€å§‹å‘é€exec()ï¼Œåœ¨è¿è¡Œæ—¶ï¼Œåº”ç”¨ç¨‹åºå°±è¿›å…¥äº†äº‹ä»¶å¾ªç¯ï¼Œå„ä¸ªå¯¹è±¡ä¹‹é—´å¯ä»¥é€šè¿‡å„ç§æ–¹å¼ç›¸äº’å‘é€æ¶ˆæ¯ã€‚</li> <li>åªæœ‰åœ¨äº‹ä»¶å¾ªç¯ï¼Œç‰¹åˆ«æ˜¯QApplication::exec()è¿›å…¥çš„äº‹ä»¶å¾ªç¯ä¸­ï¼Œä¿¡å·æ‰èƒ½å‘é€åˆ°æ§½ä¸Šã€‚è¿™æ˜¯å› ä¸ºä¿¡å·å’Œæ§½åœ¨å…¶å¤–è¡¨ä¹‹ä¸‹æ˜¯ä½¿ç”¨äº‹ä»¶å¾ªç¯æ¥ä¼ é€’æ¶ˆæ¯çš„ã€‚</li> <li>QObjectæ”¯æŒä¸€äº›æ™®é€šC++å¯¹è±¡é€šå¸¸æ²¡æœ‰çš„ç‰¹æ€§ï¼šä¿¡å·å’Œæ§½ï¼Œå…ƒå¯¹è±¡ã€å…ƒå±æ€§ã€å…ƒæ–¹æ³•ï¼Œqobject_cast</li> <li>å…ƒå¯¹è±¡ç¼–è¾‘å™¨ï¼Œå³mocï¼Œä¼šé’ˆå¯¹æ¯ä¸ªä½¿ç”¨Q_OBJECTå®çš„QObjectæ´¾ç”Ÿç±»ç”Ÿæˆé¢å¤–çš„å‡½æ•°ï¼Œç”Ÿæˆçš„ä»£ç å¯ä»¥åœ¨åç§°ä¸ºmoc_filename.cppçš„æ–‡ä»¶ä¸­æ‰¾åˆ°ã€‚</li></ol></blockquote> <h2 id="ä¿¡å·å’Œæ§½"><a href="#ä¿¡å·å’Œæ§½" class="header-anchor">#</a> ä¿¡å·å’Œæ§½</h2> <blockquote><ol><li>ä¿¡å·æ˜¯åœ¨ç±»å®šä¹‰ä¸­ç»™å‡ºçš„ç±»ä¼¼äºvoidå‡½æ•°å£°æ˜çš„ä¸€ç§æ¶ˆæ¯ã€‚å®ƒæœ‰å‚æ•°åˆ—è¡¨å´æ²¡æœ‰å‡½æ•°ä½“ã€‚ä¿¡å·æ—¶ä¸€ä¸ªç±»çš„æ¥å£çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒçœ‹èµ·æ¥æƒ³å‡½æ•°ï¼Œä½†ä¸ç”¨åŒæ ·çš„æ–¹å¼è¿›è¡Œè°ƒç”¨---å®ƒè¢«æ­¤ç±»çš„å¯¹è±¡å‘å°„</li> <li>æ§½é€šå¸¸æ˜¯ä¸€ä¸ªvoidæˆå‘˜å‡½æ•°ï¼Œå®ƒå¯ä»¥åƒæ™®é€šçš„æˆå‘˜å‡½æ•°ä¸€æ ·è¿›è¡Œè°ƒç”¨ï¼Œæˆ–è€…å¯ä»¥ç”±QMetaObjectç³»ç»Ÿè¿›è¡Œé—´æ¥è°ƒç”¨</li> <li>è¿æ¥è¯­å¥çš„è¯­æ³•ï¼šbool QObject::connect(senderQObjectPtr,SIGNAL(signalName(argumentList)),receiverQObjectPtr,SLOT(slotName(argumentList))optionalConnectionType);optionalConnectionTypeè®©ä½ å¯ä»¥æ˜ç¡®è¯´æ˜ï¼Œä½ æ˜¯å¦å¸Œæœ›ä»å‘å°„ç‚¹å¤„åŒæ­¥(é˜»å¡)æˆ–è€…éåŒæ­¥(æ’é˜Ÿ)åœ°è°ƒç”¨ç›®æ ‡æ§½</li> <li>å¦‚æœæœ‰å¤šä¸ªä¿¡å·è¿æ¥åˆ°åŒä¸€ä¸ªæ§½ä¸Šä¸”éœ€è¦çŸ¥é“æ˜¯é‚£å“Ÿä¸ªQPbjectå‘å°„çš„ä¿¡å·ï¼Œåˆ™å¯ä»¥åœ¨è¯¥æ§½ä¸­è°ƒç”¨sender(),å®ƒä¼šè¿”å›ä¸€ä¸ªæŒ‡å‘é‚£ä¸ªå¯¹è±¡çš„æŒ‡é’ˆ</li></ol></blockquote> <h2 id="å †è¿˜æ˜¯æ ˆ"><a href="#å †è¿˜æ˜¯æ ˆ" class="header-anchor">#</a> å †è¿˜æ˜¯æ ˆ</h2> <blockquote><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ²¡æœ‰çˆ¶å¯¹è±¡çš„QObjectåº”å½“åœ¨æ ˆä¸Šåˆ›å»ºï¼Œæˆ–è€…å®šä¹‰æˆå¦ä¸€ä¸ªç±»çš„å­å¯¹è±¡ã€‚æœ‰çˆ¶å¯¹è±¡çš„QObjectä¸åº”è¯¥åœ¨æ ˆä¸Šåˆ›å»ºï¼Œå› ä¸ºé‚£æ ·çš„è¯ï¼Œå®ƒæœ‰å¯èƒ½ä¼šè¢«åˆ é™¤ä¸¤æ¬¡ã€‚
ä¸æ¨èç›´æ¥åˆ é™¤QObjectï¼Œåœ¨å¸¦æœ‰äº‹ä»¶å¾ªç¯çš„ç¨‹åºä¸­ï¼Œæœ€å¥½åˆ©ç”¨QObject::deleteLater()æ¥åˆ é™¤QObjectã€‚è¿™æ ·åšï¼Œå¯ä»¥åœ¨åº”ç”¨ç¨‹åºå¤„ç†äº‹ä»¶å¹¶åœ¨å½“å‰æ§½è¿”å›ä¹‹åå°±å®‰æ’è¯¥å¯¹è±¡çš„é”€æ¯ã€‚å¸Œæœ›èƒ½å¤Ÿåœ¨æ§½å†…åˆ é™¤ä¿¡å·çš„sender(),è¿™ä¹ˆåšå®é™…ä¸Šæ˜¯å¿…é¡»çš„</p></blockquote> <h2 id="qwidgetå’Œå…¶ä½™guiå¼€å‘ä¸­å¸¸ç”¨çš„ç±»"><a href="#qwidgetå’Œå…¶ä½™guiå¼€å‘ä¸­å¸¸ç”¨çš„ç±»" class="header-anchor">#</a> QWidgetå’Œå…¶ä½™GUIå¼€å‘ä¸­å¸¸ç”¨çš„ç±»</h2> <blockquote><ol><li>QWidgetæ˜¯ä¸€ä¸ªé‡‡ç”¨äº†å¤šé‡ç»§æ‰¿çš„ç±»ï¼Œé¦–å…ˆï¼ŒQWidgetæ˜¯ä¸€ä¸ªQObjectï¼Œå› æ­¤å®ƒå¯ä»¥æœ‰çˆ¶å¯¹è±¡ã€ä¿¡å·ã€æ§½ä»¥åŠå¯å—ç®¡ç†çš„å­å¯¹è±¡ã€‚åŒæ—¶QWidgetä¹Ÿæ˜¯ä¸€ä¸ªQPaintDeviceï¼Œè¿™ä¸ªç±»æ˜¯æ‰€æœ‰å¯åœ¨å±å¹•ä¸Šè¿›è¡Œç»˜åˆ¶çš„å¯¹è±¡çš„åŸºç±»</li> <li>Qtæ•°æ®ç±»å‹â€”â€”QPoint,QSize,QColor,QImageå’ŒQPixmapæ˜¯åœ¨å¤„ç†å›¾å½¢å¯¹è±¡æ—¶å¸¸ç”¨åˆ°çš„ç±»å‹</li> <li>å¸ƒå±€â€”â€”è¿™äº›ç±»èƒ½å¤ŸåŠ¨æ€åœ°ç®¡ç†Widgetçš„å¸ƒå±€ï¼Œå…¶ä¸­æœ‰äº›äº‹å¸¸ç”¨çš„ç‰¹æ®Šå¸ƒå±€ï¼ŒåŒ…æ‹¬QHBoxLayoutï¼ŒQVBoxLayoutï¼ŒQGridLayoutï¼ŒQFormLayoutç­‰</li> <li>æ¨¡å‹â€”â€”QAbstractItemModelåŠå…¶å„ä¸ªæ´¾ç”Ÿç±»ï¼Œå¦‚QAbstractListModelå’ŒQAbstractTableModelï¼Œå¤–åŠ ä¸€äº›å·²æœ‰çš„å¯ç»§æ‰¿å®ä½“ç±»ï¼Œå¦‚QSqlQueryModelå’ŒQFileSystemModelï¼Œéƒ½æ˜¯Qtæ¨¡å‹/è§†å›¾æ¡†æ¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œè¯¥æ¡†æ¶å†…ç½®å°†ä¸€ä¸ªæ¨¡å‹å’Œå…¶ä»–ä¸åŒè§†å›¾ç›¸è¿æ¥çš„æœºåˆ¶ï¼Œä»¥ä¾¿å¯¹ä¸€ä¸ªç»„ä»¶çš„ä¿®æ”¹å¯ä»¥è‡ªåŠ¨å˜æ¢åˆ°å…¶ä»–ç»„ä»¶ä¸Š</li> <li>æ§åˆ¶ç±»â€”â€”QApplicationå’ŒQActionä¸¤è€…éƒ½æ˜¯ç®¡ç†GUIåº”ç”¨ç¨‹åºæ§åˆ¶æµçš„å¯¹è±¡ã€‚QItemDelegateç”¨ä½œæ¨¡å‹å’Œè§†å›¾ä¹‹é—´çš„æ§åˆ¶å™¨</li></ol></blockquote> <h2 id="å¯¹è¯æ¡†"><a href="#å¯¹è¯æ¡†" class="header-anchor">#</a> å¯¹è¯æ¡†</h2> <blockquote><ol><li>QDialogæ˜¯Qtæ‰€æœ‰å¯¹è¯æ¡†çš„åŸºç±»ã€‚å¯¹è¯æ¡†çª—å£å¯ä»¥æ˜¯æ¨¡æ€(modal)å¯¹è¯æ¡†ä¹Ÿå¯ä»¥æ˜¯éæ¨¡æ€(nonmodal)å¯¹è¯æ¡†ã€‚</li> <li>å½“ç¨‹åºè°ƒç”¨é™æ€çš„ä¾¿åˆ©å‡½æ•°&quot;QMessageBox::&quot;æˆ–è€…&quot;QFileDialog::&quot;æ—¶ï¼Œå¼¹å‡ºçš„å¯¹è¯æ¡†å°±æ˜¯æ¨¡æ€å¯¹è¯æ¡†ã€‚å½“æ¨¡æ€å¯¹è¯æ¡†æ˜¾ç¤ºåœ¨å±å¹•ä¸Šæ—¶ï¼Œå®ƒä¼šå†»ç»“åŒä¸€åº”ç”¨ç¨‹åºä¸­çš„å…¶ä»–æ‰€æœ‰å¯è§çª—å£çš„è¾“å…¥åŠŸèƒ½ã€‚ç”¨æˆ·è§£é™¤æ¨¡æ€å¯¹è¯æ¡†åï¼Œä¸åº”ç”¨ç¨‹åºçš„å¸¸è§„äº¤äº’æ‰å¯ä»¥ç»§ç»­ä¸‹å»ã€‚QDialog::exec()æ˜¯å°†æ¨¡æ€å¯¹è¯æ¡†æ”¾åˆ°å±å¹•ä¸Šçš„å¦ä¸€ç§æ–¹å¼ã€‚å½“ç”¨æˆ·å®Œæˆäº†æ‰€éœ€çš„å“åº”åï¼Œå¯¹è¯æ¡†å°±å¯ä»¥è¿”å›æ•°æ®ï¼Œä¹Ÿå¯ä»¥è¿”å›å¯¹è¯æ¡†ä»£ç (QDialog::Acceptedæˆ–è€…QDialog::Rejected);</li> <li>å¯ä»¥åƒQWidgetä¸€æ ·é€šè¿‡show()æ˜¾ç¤ºä¸€ä¸ªQDialogï¼Œåœ¨æ­¤æƒ…å†µä¸‹ï¼Œå¯¹è¯æ¡†æ˜¯éæ¨¡æ€çš„ï¼Œç”¨æˆ·ä¹Ÿå°±å¯ä»¥ä¸åº”ç”¨ç¨‹åºçš„å…¶ä»–çª—å£ç»§ç»­äº¤äº’ã€‚</li></ol></blockquote> <div class="language-C line-numbers-mode"><pre class="language-c"><code>QApplication <span class="token function">app</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span>
QProgressDialog nonModal<span class="token punctuation">;</span>
nonModal<span class="token punctuation">.</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">&quot;Non Modal Parent Dialog&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
nonModal<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
nonModal<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>nonModal<span class="token punctuation">,</span><span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">finished</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>app<span class="token punctuation">,</span><span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="å›¾æ ‡ã€å›¾åƒä¸èµ„æº"><a href="#å›¾æ ‡ã€å›¾åƒä¸èµ„æº" class="header-anchor">#</a> å›¾æ ‡ã€å›¾åƒä¸èµ„æº</h2> <blockquote><ol><li>Qtæä¾›äº†è‡³å°‘ä¸¤ç§æ–¹å¼æ¥è·å¾—æ ‡å‡†çš„å›¾æ ‡ã€‚ä¸€ç§æ–¹å¼æ¥è‡ªäºæ¡Œé¢æ ·å¼çš„QStyle::standardIcon()ï¼Œå¦ä¸€ç§åˆ™æ¥è‡ªæ’ä»¶å‹å›¾æ ‡ä¸»é¢˜:QIcon::fromTheme()</li> <li>æŠŠæ‰€éœ€çš„äºŒè¿›åˆ¶æ•°æ®æ–‡ä»¶ä½œä¸ºèµ„æºé™„åŠ åˆ°å·¥ç¨‹ä¸­ä¼šè®©å·¥ç¨‹æ›´ä¸ºå¥å£®ã€‚æºä»£ç æ— é¡»ä¸ºèµ„æºæ–‡ä»¶ä½¿ç”¨ä¸€äº›ä¸å¯ç§»æ¤çš„è·¯å¾„åã€‚è¦å¼•ç”¨ä¸€ä¸ªå­˜å‚¨æˆèµ„æºçš„æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨åœ¨.rccæ–‡ä»¶ä¸­æŒ‡å®šçš„åˆ«åå¹¶åœ¨å‰é¢å¸¦ä¸€ä¸ªå‰ç¼€&quot;ğŸ˜•&quot;ã€‚äºæ˜¯ï¼Œæ¯ä¸ªèµ„æºå¥½åƒä½äºä¸€ä¸ªç§æœ‰è™šæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå…¶æ ¹ä¸º&quot;ğŸ˜•&quot;ã€‚ç„¶è€Œï¼Œå¾—åˆ°è¿™äº›å¥½å¤„æ˜¯éœ€è¦ä»˜å‡ºä»£ä»·çš„ï¼Œå¯æ‰§è¡Œæ–‡ä»¶ä¼šæ›´å¤§ï¼Œç¨‹åºä¹Ÿä¼šéœ€è¦æ›´å¤šçš„å†…å­˜</li> <li>æœ‰3ä¸ªQtç±»å¯ä»¥ç®€åŒ–å¤„ç†å›¾ç‰‡ï¼š
* QImageâ€”â€”ç”¨äºç¦»å±æ“ä½œï¼Œè¾“å…¥è¾“å‡ºæ“ä½œï¼Œå¹¶å¯ç›´æ¥è®¿é—®åƒç´ 
* QPixmapâ€”â€”ç”¨äºåœ¨å±å¹•ä¸Šè¿›è¡Œç»˜åˆ¶å¹¶ä¼˜åŒ–ï¼Œä»…ç”¨åœ¨ä¸»çº¿ç¨‹ä¸­
* QIconâ€”â€”ç”¨äºè§†é¢‘å†…å­˜çš„ç¼“å†²ä¸”ç»å¸¸ç”¨åˆ°ï¼Œä½†ä»…ç”¨åœ¨ä¸»çº¿ç¨‹ä¸­
* QPictureâ€”â€”å­˜å‚¨ç»˜åˆ¶çš„æ“ä½œè€Œä¸æ˜¯å®é™…çš„ä½å›¾å›¾ç‰‡</li></ol></blockquote> <h2 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="header-anchor">#</a> å¸ƒå±€</h2> <blockquote><ol><li>å¸ƒå±€å¯ä»¥å°†å®ƒä»¬çš„Widgetsæ’åˆ—æˆå¦‚ä¸‹å‡ ç§å½¢å¼ï¼š
* å‚ç›´å‹(QVBoxLayout)
* æ°´å¹³å‹(QHBoxLayout)
* ç½‘æ ¼å‹(QGridLayout)
* çª—ä½“å‹(QFormLayout)
* æ ˆå‹ï¼Œä»»ä½•æ—¶å€™éƒ½åªæœ‰ä¸€ä¸ªçª—ä»¶å¯è§(QStackedLayout)</li> <li>å¯ä»¥ä½¿ç”¨addWidget()å‡½æ•°å‘QLayoutæ·»åŠ çª—ä»¶ï¼Œå½“çª—ä»¶æ·»åŠ åˆ°å¸ƒå±€ä¸­æ—¶ï¼Œå®ƒä¼šç§°ä¸ºæ‹¥æœ‰è¯¥å¸ƒå±€çš„çª—ä»¶çš„å­å¯¹è±¡ã€‚çª—ä»¶æ°¸è¿œä¸ä¼šç§°ä¸ºå¸ƒå±€çš„å­å¯¹è±¡</li> <li>ä¸ºäº†èƒ½å¤Ÿé¡ºåˆ©åœ°ç®¡ç†å…¶å‡ ä½•å½¢çŠ¶ï¼Œæ¯ä¸ªQLayoutå¯¹è±¡éƒ½å¿…é¡»æœ‰ä¸€ä¸ªçˆ¶å¯¹è±¡ï¼Œè¿™å¯ä»¥æ˜¯ä¸€ä¸ªQWidgetï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªQLayoutã€‚å¯ä»¥åœ¨åˆ›å»ºå¸ƒå±€æ—¶é€šè¿‡å‘æ„é€ å‡½æ•°ä¼ é€’ä¸€ä¸ªæŒ‡å‘çˆ¶çª—ä»¶æˆ–è€…å¸ƒå±€çš„æŒ‡é’ˆæ¥æŒ‡å®šå…¶çˆ¶å¯¹è±¡ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªQLayoutè€Œä¸æŒ‡å®šQLayoutçš„çˆ¶å¯¹è±¡ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ç¨åé€šè¿‡è°ƒç”¨QWidget::addLayout()æ¥æŒ‡å®šå…¶çˆ¶å¯¹è±¡</li> <li>å¸ƒå±€å¯ä»¥æ‹¥æœ‰å­å¸ƒå±€ï¼Œé€šè¿‡è°ƒç”¨addLayout()å‡½æ•°ï¼Œå¯ä»¥å°†ä¸€ä¸ªå¸ƒå±€æ·»åŠ ä¸ºå¦å¤–ä¸€ä¸ªå¸ƒå±€çš„å­å¸ƒå±€ã€‚å¦‚æœå¸ƒå±€çš„çˆ¶å¯¹è±¡æ˜¯ä¸€ä¸ªçª—ä»¶ï¼Œé‚£ä¹ˆè¯¥çª—ä»¶å°†å†ä¹Ÿæ— æ³•ç§°ä¸ºå¦å¤–ä¸€ä¸ªå¸ƒå±€çš„çˆ¶å¯¹è±¡</li> <li>ä¸ä½¿ç”¨Qtè®¾è®¡å¸ˆæ—¶ï¼Œå¯ä»¥ä½¿ç”¨QLayoutç±»çš„APIæ¥ç›´æ¥æŒ‡å®šå„ä¸ªçª—ä»¶ä¹‹é—´çš„åˆ†å‰²ã€ä¼¸å±•å’Œæ”¯æ’‘
* addSpacing(int size)ä¼šå‘å¸ƒå±€çš„æœ«å°¾æ·»åŠ å›ºå®šæ•°é‡çš„åƒç´ 
* addStretch(int stretch = 0)ä¼šæ·»åŠ æ•°ç›®ä¸å®šçš„åƒç´ ã€‚æ­¤å‡½æ•°ç”±ä¸€ä¸ªæœ€å°çš„æ•°ç›®å¼€å§‹ï¼Œç„¶åé€æ¸æ‰©å±•åˆ°ä½¿ç”¨æ‰€æœ‰çš„å¯ç”¨ç©ºé—´ã€‚å¦‚æœåœ¨åŒä¸€ä¸ªå¸ƒå±€ä¸­è¿›è¡Œå¤šæ¬¡æ‰©å±•ï¼Œå¯ä»¥ç”¨æ­¤ä½œä¸ºä¸€ä¸ªå¢é•¿å› å­
* addStrut(int size)è®²ç»™å¤„ç½®æ–¹å‘æ–½åŠ ä¸€ä¸ªæœ€å°çš„æ•°å€¼(ä¹Ÿå°±æ˜¯ï¼ŒQVBoxLayoutçš„å®½åº¦æˆ–è€…QHBoxLayoutçš„é«˜åº¦)</li></ol></blockquote> <h2 id="qtimer"><a href="#qtimer" class="header-anchor">#</a> QTimer</h2> <blockquote><ol><li>QTimerå¯¹è±¡æ˜¯ä¸€ä¸ªå€’æ•°è®¡æ—¶å™¨ï¼Œä»¥æ¯«ç§’çº§æ—¶é—´é—´éš”å¯åŠ¨ï¼Œå½“å…¶åˆ°è¾¾é›¶æ—¶ä¼šå‘å‡ºä¸€ä¸ªtimeout()ä¿¡å·.QTimerå¯ç”¨æ¥ä»¥è§„åˆ™çš„é—´éš”æ¥å‘å°„ä¿¡å·ï¼Œæˆ–è€…å¦‚æœsingleShotå±æ€§å·²è®¾ç½®æˆtrueï¼Œåˆ™åœ¨ç»™å®šçš„æ—¶é—´é—´éš”åä»…å‘å°„ä¸€æ¬¡ä¿¡å·ã€‚QTimeræœ‰ä¸€ä¸ªé™æ€å‡½æ•°singleShot()ï¼Œå¯ä»¥åœ¨ç»™å®šçš„æ—¶é—´é—´éš”åè°ƒç”¨ä¸€æ¬¡æ§½ã€‚å¦‚æœå€’æ•°é—´éš”è®¾ç½®æˆ0ï¼ŒQTimerä¼šåœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­çš„å…¨éƒ¨äº‹ä»¶å¤„ç†å®Œåå°±ç«‹åˆ»å‘å‡ºtimeout()ä¿¡å·</li></ol></blockquote> <div class="language-C line-numbers-mode"><pre class="language-c"><code>QTimer<span class="token operator">::</span><span class="token function">singleShot</span><span class="token punctuation">(</span>m_expInterval<span class="token punctuation">,</span>this<span class="token punctuation">,</span><span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">timerDisplayRandStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="ç»˜åˆ¶äº‹ä»¶å’Œç”»å›¾"><a href="#ç»˜åˆ¶äº‹ä»¶å’Œç”»å›¾" class="header-anchor">#</a> ç»˜åˆ¶äº‹ä»¶å’Œç”»å›¾</h2> <blockquote><ol><li>ä¸€ä¸ªWidgetåº”å½“åœ¨å…¶paintEvent()æ–¹æ³•ä¸­æ‰§è¡Œé€‚å½“çš„ç»˜åˆ¶æ“ä½œã€‚è¿™æ˜¯QWidgetä¸­å”¯ä¸€å¯ä»¥åˆ›å»ºQPainter painter(this)çš„åœ°æ–¹ã€‚æœ‰ä¸‹é¢å‡ ä¸ªåŸå› ä½¿å¾—QPaintEventå¯ä»¥è¢«å‘é€åˆ°QWidgetä¸Šã€‚
1. çª—ä»¶æ˜¯éšè—çš„ï¼Œç„¶ååˆæ˜¾éœ²äº†å‡ºæ¥
2. çª—ä»¶æ”¹å˜äº†å¤§å°æˆ–è€…è¿›è¡Œäº†é‡æ–°æ’å¸ƒ
3. è°ƒç”¨äº†update()æˆ–è€…repaint()ã€‚repaint()åœ¨paintEvent()å¾—åˆ°è°ƒç”¨åæ‰ä¼šè¿”å›ã€‚update()åœ¨QPaintEventè¢«æ”¾è¿›äº‹ä»¶é˜Ÿåˆ—åä¼šç«‹å³è¿”å›</li></ol></blockquote> <div class="language-C line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> LifeWidget<span class="token operator">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent<span class="token operator">*</span> evt<span class="token punctuation">)</span><span class="token punctuation">{</span>
	QPainter <span class="token function">painter</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>m_image<span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		painter<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span><span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>m_image<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="qmainwindow"><a href="#qmainwindow" class="header-anchor">#</a> QMainWindow</h2> <div class="language-C line-numbers-mode"><pre class="language-c"><code>class MyMainWindow<span class="token operator">:</span>public QMainWindow<span class="token punctuation">{</span>
	Q_OBJECT
public<span class="token operator">:</span>
	explicit <span class="token function">MyMainWindow</span><span class="token punctuation">(</span>QWidget<span class="token operator">*</span> parent<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">closeEvent</span><span class="token punctuation">(</span>QCloseEvent<span class="token operator">*</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span>
protected slots<span class="token operator">:</span>
	virtual <span class="token keyword">void</span> <span class="token function">newFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	virtual <span class="token keyword">void</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	virtual bool <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="qaction"><a href="#qaction" class="header-anchor">#</a> QAction</h2> <blockquote><ol><li>QActionä»QObjectæ´¾ç”Ÿè€Œæ¥ï¼Œæ˜¯ç”¨äºç”¨æˆ·é€‰å®šåŠ¨ä½œçš„ä¸€ä¸ªåŸºç±»ã€‚å®ƒæä¾›äº†ä¸°å¯Œçš„æ¥å£ï¼Œå®ƒè¿˜å¯ä»¥ç”¨äºè®¸å¤šç§åŠ¨ä½œä¸­ã€‚QWidgetæ¥å£ä½¿å¾—æ¯ä¸ªçª—ä»¶éƒ½å¯ä»¥ç»´æŠ¤ä¸€ä¸ªQList&lt;QAction*&gt;ã€‚æ‰€æœ‰QWidgetéƒ½å¯ä»¥æ‹¥æœ‰QActionï¼Œä¸€äº›çª—ä»¶å€ŸåŠ©ä¸Šä¸‹æ–‡æä¾›äº†QActionçš„æ¸…å•ï¼Œå…¶ä»–å€ŸåŠ©èœå•æ ã€‚</li> <li>QMenuæ˜¯ä¸€ä¸ªèƒ½å¤Ÿç»™QActioné›†åˆæä¾›ç‰¹æ®Šè§†å›¾çš„QWidgetã€‚QMenuBaræ˜¯èœå•çš„ä¸€ä¸ªé›†åˆï¼Œå¸¸è§äºQMainWindowä¸­ã€‚</li> <li>æ¯æ¬¡è°ƒç”¨QMenu::addAction(text,target,slot,shortcut)å‡½æ•°ï¼Œéƒ½ä¼šçª—ä»¶ä¸€ä¸ªæœªå‘½åçš„QActionï¼Œå¹¶ä¸”ä¼šå°†å…¶æ·»åŠ åˆ°è¿™ä¸ªQMenuä¸Šã€‚ç„¶åä¼šè°ƒç”¨å®ƒçš„ç§¯ç´¯å‡½æ•°ï¼ŒQWidget::addAction(QAction*),è¿™æ ·æŠŠæ–°å»ºçš„QActionæ·»åŠ åˆ°ç”¨äºä¸Šä¸‹æ–‡èœå•çš„QMenuçš„QActionæ¸…å•ä¸­ã€‚</li></ol></blockquote> <h2 id="qsettings"><a href="#qsettings" class="header-anchor">#</a> QSettings</h2> <blockquote><ol><li>QSettingsä¼šç®¡ç†é”®/å€¼å¯¹çš„æ°¸ä¹…æ˜ å°„å…³ç³»ï¼Œå®ƒæ˜¯ä¸€ä¸ªQObjectï¼Œå¹¶ä¸”ä¼šä½¿ç”¨ä¸€äº›ä¸QObjectç›¸ä¼¼çš„å±æ€§æ¥å£â€”â€”setValue()å’Œvalue()â€”â€”æ¥è®¾ç½®å’Œè·å–å®ƒçš„å€¼ã€‚è¿™ä¸ªç±»å¯ä»¥ç”¨æ¥å­˜å‚¨ä»»ä½•éœ€è¦åœ¨å¤šæ¬¡æ‰§è¡Œä¹‹é—´è¿›è¡Œè®°å¿†çš„æ•°æ®</li> <li>QSettingséœ€è¦ä¸€ä¸ªç»„ç»‡åå’Œä¸€ä¸ªåº”ç”¨ç¨‹åºåï¼Œä½†å½“ä½¿ç”¨é»˜è®¤çš„æ„é€ å‡½æ•°æ—¶ï¼ŒQSettingsä¼šä»QApplicationä¸­è·å¾—è¿™äº›å€¼ã€‚æ¯ä¸ªåç§°ç»„åˆéƒ½ä¼šå®šä¹‰ä¸€ä¸ªå”¯ä¸€çš„æ°¸ä¹…æ˜ å°„ï¼Œè¿™ä½¿å¾—ä¸ä¼šä¸å…¶ä»–å‘½åçš„Qtåº”ç”¨ç¨‹åºäº§ç”Ÿå†²çª</li> <li>å…è®¸å¤šä¸ªå®ä¾‹å…±äº«ç›¸åŒçŠ¶æ€çš„ç±»ï¼Œå¯ä»¥çœ‹æˆæ˜¯Monodtateæ¨¡å¼çš„ä¸€ç§å®ç°ã€‚æ‹¥æœ‰ç›¸åŒç»„ç»‡/åº”ç”¨ç¨‹åºåç§°çš„ä¸¤ä¸ªQSettingså®ä¾‹ï¼Œå¯ä»¥è®¿é—®åŒä¸€ä¸ªæ°¸ä¹…æ˜ å°„æ•°æ®ã€‚è¿™ç®€åŒ–äº†åº”ç”¨ç¨‹åºä»ä¸åŒæºæ–‡ä»¶è®¿é—®å…¬å…±è®¾ç½®å€¼çš„è¿‡ç¨‹ã€‚QSettingsæ˜¯Monostateæ¨¡å¼çš„ä¸€ç§å®ç°</li></ol></blockquote> <h2 id="å‰ªåˆ‡æ¿"><a href="#å‰ªåˆ‡æ¿" class="header-anchor">#</a> å‰ªåˆ‡æ¿</h2> <blockquote><ol><li>æ¯ä¸ªQtåº”ç”¨ç¨‹åºéƒ½å¯ä»¥ä½¿ç”¨qApp-&gt;clipboard()è®¿é—®ç³»ç»Ÿçš„å‰ªè´´æ¿ã€‚å‰ªè´´æ¿ä¼šä¿å­˜å¸¦ç±»å‹çš„æ•°æ®(æ–‡æœ¬ï¼Œå›¾ç‰‡ï¼ŒURLæˆ–è€…è‡ªå®šä¹‰æ•°æ®)ã€‚è¦å¾€å‰ªè´´æ¿ä¸­æ”¾ç½®æ•°æ®ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªQMimeDataï¼Œä»¥ä¸€å®šçš„æ–¹å¼å¯¹æ•°æ®è¿›è¡Œç¼–ç ï¼Œå¹¶ä¸”è°ƒç”¨QClipBoard-&gt;setMimeData()ã€‚</li></ol></blockquote> <div class="language-C line-numbers-mode"><pre class="language-c"><code><span class="token function">connect</span><span class="token punctuation">(</span>qApp<span class="token operator">-&gt;</span><span class="token function">clipboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">changed</span><span class="token punctuation">(</span>QClipboard<span class="token operator">::</span>Mode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token punctuation">,</span><span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">clipboardChanged</span><span class="token punctuation">(</span>QClipboard<span class="token operator">::</span>Mode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="qimage"><a href="#qimage" class="header-anchor">#</a> QImage</h2> <blockquote><ol><li>QImageåœ¨åƒç´ å¤„ç†ä¸Šå¾—åˆ°äº†ä¼˜åŒ–ï¼ŒQPixmapä½¿ç”¨äº†è§†é¢‘å­˜å‚¨å™¨ï¼Œå®ƒä¹Ÿæ˜¯éœ€è¦åœ¨å±å¹•ä¸Šæ˜¾ç¤ºå›¾ç‰‡çš„å¤šç§çª—ä»¶è¦ç”¨åˆ°çš„ç±»ã€‚å¯ä»¥å§QImageè½¬æ¢æˆQPixmapå¹¶å°†å…¶åœ¨QLabelè¿›è¡Œæ˜¾ç¤º</li></ol></blockquote> <div class="language-C line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">h</span><span class="token punctuation">(</span>m_Image<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">w</span><span class="token punctuation">(</span>m_Image<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> r<span class="token punctuation">,</span>g<span class="token punctuation">,</span>b<span class="token punctuation">;</span>
QRgb oldpix<span class="token punctuation">,</span>newpix<span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>y<span class="token operator">&lt;</span>h<span class="token punctuation">;</span>y<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>x<span class="token operator">&lt;</span>w<span class="token punctuation">;</span>x<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		oldpix<span class="token operator">=</span>m_Image<span class="token punctuation">.</span><span class="token function">pixel</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		r<span class="token operator">=</span><span class="token function">qRed</span><span class="token punctuation">(</span>oldpix<span class="token punctuation">)</span><span class="token operator">*</span>radj<span class="token punctuation">;</span>
		g<span class="token operator">=</span><span class="token function">qGreen</span><span class="token punctuation">(</span>oldpix<span class="token punctuation">)</span><span class="token operator">*</span>gadj<span class="token punctuation">;</span>
		b<span class="token operator">=</span><span class="token function">qBlue</span><span class="token punctuation">(</span>oldpix<span class="token punctuation">)</span><span class="token operator">*</span>badj<span class="token punctuation">;</span>
		newpix<span class="token operator">=</span><span class="token function">qRgb</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span>g<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
		m_Image<span class="token punctuation">.</span><span class="token function">setPix</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>newpix<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="æ¨¡æ¿ç±»"><a href="#æ¨¡æ¿ç±»" class="header-anchor">#</a> æ¨¡æ¿ç±»</h2> <blockquote><p>å› ä¸ºæ¯ä¸ªQ_OBJECTéƒ½éœ€è¦é€šè¿‡mocä¸ºå…¶ç”Ÿæˆä»£ç ï¼Œè€Œä¸”mocå¹¶æœªæ™ºèƒ½åˆ°çŸ¥é“å¦‚ä½•ç”Ÿæˆæ¨¡æ¿ç±»çš„ç‰¹åŒ–ï¼Œå­¤å„¿ä¸å…è®¸ä½¿ä¸€ä¸ªå·²ç»æ ‡è®°ä¸ºQ_OBJECTçš„ç±»å†æ¬¡æˆä¸ºæ¨¡æ¿ç±»</p></blockquote> <p>##qSort</p> <blockquote><ol><li>qSort()å‡½æ•°æ˜¯ä¸€ä¸ªä½¿ç”¨å †åˆ†ç±»ç®—æ³•è¿›è¡Œå®ç°çš„èŒƒå‹æ–¹æ³•ã€‚qSort()å¯ä»¥åº”ç”¨åˆ°ä»»ä½•Qtå®¹å™¨ï¼Œåªè¦å®¹å™¨å†…çš„å¯¹è±¡æ‹¥æœ‰å…¬å…±æ¥å£operator&lt;()å’Œoperator==()ã€‚åŸºæœ¬æ•°æ®ç±»å‹çš„å®¹å™¨ä¹Ÿå¯ä»¥ä½¿ç”¨æ­¤å‡½æ•°è¿›è¡Œæ’åº</li></ol></blockquote> <h2 id="åå°„ä¸å…ƒå¯¹è±¡"><a href="#åå°„ä¸å…ƒå¯¹è±¡" class="header-anchor">#</a> åå°„ä¸å…ƒå¯¹è±¡</h2> <blockquote><ol><li>æ‰€è°“åå°„ï¼Œå°±æ˜¯æŒ‡å¯¹è±¡æˆå‘˜çš„è‡ªæˆ‘æ£€æŸ¥ï¼Œä½¿ç”¨åå°„ç¼–ç¨‹ï¼Œå°±å¯ä»¥ç¼–å†™å‡ºé€šç”¨çš„æ“ä½œï¼Œå¯å¯¹å…·æœ‰å„ç§ä¸åŒç»“æ„çš„ç±»è¿›è¡Œæ“ä½œã€‚ä½¿ç”¨é€šç”¨çš„å€¼å­˜å‚¨å™¨QVariantï¼Œå°±å¯ä»¥æŒ‰ç…§ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ¥å¯¹åŸºæœ¬ç±»å‹å’Œå…¶ä»–æ™®é€šç±»å‹è¿›è¡Œæ“ä½œ</li> <li>æ‰€è°“å…ƒå¯¹è±¡å°±æ˜¯æè¿°å¦ä¸€ä¸ªå¯¹è±¡ç»“æ„çš„å¯¹è±¡ã€‚QMetaObjectæ˜¯å…ƒå¯¹è±¡æ¨¡å¼çš„ä¸€ä¸ªQtå®ç°ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªQObjectå¯¹è±¡æ‰€æ‹¥æœ‰çš„å±æ€§å’Œæ–¹æ³•çš„ä¿¡æ¯ã€‚å…ƒå¯¹è±¡æ¨¡å¼æœ‰æ—¶ä¹Ÿç§°ä¸ºåå°„æ¨¡å¼</li> <li>ä¸€ä¸ªæ‹¥æœ‰å…ƒå¯¹è±¡çš„ç±»å°±å¯ä»¥æ”¯æŒåå°„ã€‚è¿™æ˜¯ä¸€ä¸ªè®¸å¤šé¢å‘å¯¹è±¡è¯­è¨€éƒ½å…·æœ‰çš„æ€§è´¨ã€‚è™½ç„¶C++ä¸­ä¸å­˜åœ¨åå°„ï¼Œä½†Qtçš„å…ƒå¯¹è±¡ç¼–è¯‘å™¨(moc)å¯ä»¥ä¸ºQObjectç”Ÿæˆæ”¯æŒè¿™ç§æœºåˆ¶çš„ä»£ç </li> <li>åªè¦æ»¡è¶³ä¸€å®šæ¡ä»¶(æ¯ä¸ªç±»éƒ½å¿…é¡»åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰ï¼Œå¹¶ä¸”åˆ—ä¸¾åœ¨å·¥ç¨‹æ–‡ä»¶çš„HEADERSä¸­ï¼ŒåŒæ—¶æ­¤ç±»çš„å®šä¹‰ä¸­è¿˜å¿…é¡»åŒ…æ‹¬Q_OBJECTå®)ï¼Œæ¯ä¸ªæ´¾ç”Ÿè‡ªQObjectçš„ç±»éƒ½ä¼šæ‹¥æœ‰ä¸€ä¸ªæœ‰mocä¸ºå…¶ç”Ÿæˆçš„QMetaObjectã€‚QObjectæ‹¥æœ‰æœ‰ä¸ªæˆå‘˜å‡½æ•°ï¼Œå®ƒèƒ½å¤Ÿè¿”å›æŒ‡å‘å¯¹è±¡çš„QMetaObjectçš„æŒ‡é’ˆï¼Œè¿™ä¸ªå‡½æ•°åŸå‹æ˜¯ï¼šQMetaObject* QObjectï¼šï¼šmetaObject() const[virtual]</li> <li>å¯ä»¥ä½¿ç”¨QMetaObjectçš„ä¸‹é¢è¿™äº›æ–¹æ³•æ¥è·å–ä¸€ä¸ªQObjectçš„ä¿¡æ¯ï¼š
* className(),å®ƒä¼šå°†ç±»çš„åç§°ä»¥const char*æ ¼å¼è¿”å›
* superClass(),å¦‚æœå­˜åœ¨åŸºç±»çš„QMetaObjectï¼Œåˆ™è¿”å›å…¶æŒ‡é’ˆï¼Œå¦‚æœä¸å­˜åœ¨è¿”å›0
* mathodCount(),è¿”å›ç±»çš„æˆå‘˜å‡½æ•°çš„ä¸ªæ•°</li> <li>ä¿¡å·å’Œæ§½æœºåˆ¶åŒæ ·éœ€è¦ä¾èµ–ä¸QMetaObject</li> <li>é€šè¿‡ä½¿ç”¨QMetaObjectå’ŒQMetaPropertyå°±å¯ä»¥ç¼–å†™è¶³å¤Ÿé€šç”¨çš„ä»£ç æ¥å¤„ç†æ‰€æœ‰å…·æœ‰è‡ªæˆ‘æè¿°èƒ½åŠ›çš„ç±»</li> <li>é™¤äº†C++çš„RTTIè¿ç®—ç¬¦dynamic_castå’Œtypeidä¹‹å¤–ï¼ŒQtè¿˜æä¾›äº†ä¸¤ç§è¿è¡Œæ—¶çš„ç±»å‹è¯†åˆ«æœºåˆ¶ï¼š
* qobject_cast
* QObject::inherits()</li> <li>qobject_castæ˜¯ä¸€ä¸ªANSIé£æ ¼çš„ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼šDestType* qobject_cast&lt;DestType*&gt; (QObject* qoptr),å¦‚æœè½¬æ¢å¤±è´¥è¿”å›NULLã€‚qobject_castå®é™…æ˜¯ä¸€ä¸ªå‘ä¸‹è½¬æ¢è¿ç®—ç¬¦ï¼Œç±»ä¼¼äºdynamic_castã€‚æ‹¥æœ‰æŒ‡å‘æ´¾ç”Ÿç±»çš„åŸºç±»æŒ‡é’ˆæ—¶ï¼Œå‘ä¸‹è½¬æ¢å…è®¸è°ƒç”¨åœ¨åŸºç±»æ¥å£ä¸­ä¸å­˜åœ¨çš„æ´¾ç”Ÿç±»æ–¹æ³•ã€‚</li> <li>è®¿é—®æ•°æ®æˆå‘˜çš„æ–¹å¼ï¼š
* ç›´æ¥è®¿é—®ï¼Œé€šè¿‡ç»å…¸çš„gettet/settetï¼Œé€Ÿåº¦å¿«ï¼Œæ›´ä¸ºæœ‰æ•ˆ
* é—´æ¥è®¿é—®ï¼Œé€šè¿‡QObject/QMetaObjectæ¥å£ï¼Œå¯è®©ä»£ç å¤ç”¨æ€§æ›´å¥½</li> <li>ä½¿ç”¨Q_PROPERTYå®æ¥æè¿°QObjectçš„å±æ€§ï¼šQ_PROPERTY(type name READ getFunction [WRITE setFunction] [RESET resetFunction] [NOTIFY notifySignal] [DESIGNABLE bool] [SCRIPTABLE bool] [STORED bool]),ä¾‹å¦‚ï¼š</li></ol></blockquote> <div class="language-C customer-props.h line-numbers-mode"><pre class="language-c"><code>class Customer<span class="token operator">:</span>public QObject<span class="token punctuation">{</span>
	Q_OBJECT			<span class="token comment">//mocé¢„å¤„ç†ç±»éœ€è¦çš„å®</span>
	<span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span>QString id READ getId WRITE setId NOTIFY valueChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span>QString name READ getName WRITE setName NOTIFY valueChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span>QString address READ getAddress WRITE setAddress NOTIFY addressChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span>QString phone READ getPhone WRITE setPhone NOTIFY phoneChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span>QDate dateEstablished READ getDateEstablished<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//åªè¯»å±æ€§</span>
	<span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span>CustomerType type READ getType WRITE setType NOTIFY valueChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>
public<span class="token operator">:</span>
	<span class="token keyword">enum</span> <span class="token class-name">CustomerType</span><span class="token punctuation">{</span>
				Corporate<span class="token punctuation">,</span>Individual<span class="token punctuation">,</span>Educational<span class="token punctuation">,</span>Government
					<span class="token punctuation">}</span><span class="token punctuation">;</span>												<span class="token comment">//æšä¸¾ç±»å‹å®šä¹‰å¿…é¡»ä¸Q_ENUMSå®çš„å®šä¹‰å‡ºç°åœ¨åŒä¸€ç±»å®šä¹‰ä¸­</span>
	<span class="token function">Q_ENUMS</span><span class="token punctuation">(</span>CustomerType<span class="token punctuation">)</span><span class="token punctuation">;</span>											<span class="token comment">//ç‰¹æ®Šçš„å®å¯ä»¥å®ç°ç”Ÿæˆå­—ç¬¦ä¸²åˆ°æšä¸¾ä¹‹é—´çš„è½¬æ¢åŠŸèƒ½ï¼›å¿…é¡»åœ¨åŒä¸€ä¸ªç±»ä¸­</span>
	explicit <span class="token function">Customer</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString name <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>QObject<span class="token operator">*</span> parent <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä¹‹æ‰€ä»¥å£°æ˜ä¸ºexplicitï¼Œæ˜¯å› ä¸ºä¸å¸Œæœ›ä»QStringè½¬æ¢åˆ°Customeræ—¶å‡ºç°æ„å¤–</span>
	QString getId <span class="token keyword">const</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> m_id<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">setType</span><span class="token punctuation">(</span>CustomerType newType<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">setType</span><span class="token punctuation">(</span>QString newType<span class="token punctuation">)</span><span class="token punctuation">;</span>
signals<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">addressChanged</span><span class="token punctuation">(</span>QString newAddress<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">valueChanged</span><span class="token punctuation">(</span>QString propertyName<span class="token punctuation">,</span>QVariant newValue<span class="token punctuation">,</span>QVariant oldValue<span class="token operator">=</span><span class="token function">QVariant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">phoneChanged</span><span class="token punctuation">(</span>QString newPhone<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">typeChanged</span><span class="token punctuation">(</span>CustomerType type<span class="token punctuation">)</span><span class="token punctuation">;</span>
private<span class="token operator">:</span>
	QString m_id<span class="token punctuation">,</span>m_name<span class="token punctuation">,</span>m_address<span class="token punctuation">,</span>m_phone<span class="token punctuation">;</span>
	QDate m_date<span class="token punctuation">;</span>
	CustomerType m_type<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><div class="language-C customer-props.cpp line-numbers-mode"><pre class="language-c"><code>Customer<span class="token operator">::</span><span class="token function">Customer</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString name<span class="token punctuation">,</span>QObject<span class="token operator">*</span> parent<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">QObject</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">setObjectName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> Customer<span class="token operator">::</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString<span class="token operator">&amp;</span> newId<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>newId <span class="token operator">!=</span> m_id<span class="token punctuation">)</span><span class="token punctuation">{</span>
		QString oldId <span class="token operator">=</span> m_id<span class="token punctuation">;</span>
		m_id <span class="token operator">=</span> newId<span class="token punctuation">;</span>
		emit <span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span>newId<span class="token punctuation">,</span>oldId<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> Customer<span class="token operator">::</span><span class="token function">setType</span><span class="token punctuation">(</span>CustomerType theType<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>m_type <span class="token operator">!=</span> theType<span class="token punctuation">)</span><span class="token punctuation">{</span>
		CustomerType oldType <span class="token operator">=</span> m_type<span class="token punctuation">;</span>
		m_type <span class="token operator">=</span> theType<span class="token punctuation">;</span>
		emit <span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span>theType<span class="token punctuation">,</span>oldType<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> Customer<span class="token operator">::</span><span class="token function">setType</span><span class="token punctuation">(</span>QString newType<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">static</span> <span class="token keyword">const</span> QMetaObject<span class="token operator">*</span> meta <span class="token operator">=</span> <span class="token function">metaObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">static</span> <span class="token keyword">int</span> propindex <span class="token operator">=</span> meta<span class="token operator">-&gt;</span><span class="token function">indexOfProperty</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">static</span> <span class="token keyword">const</span> QMetaProperty mp <span class="token operator">=</span> meta<span class="token operator">-&gt;</span><span class="token function">property</span><span class="token punctuation">(</span>propindex<span class="token punctuation">)</span><span class="token punctuation">;</span>

	QMetaEnum menum <span class="token operator">=</span> mp<span class="token punctuation">.</span><span class="token function">enumerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> ntyp <span class="token operator">=</span> newType<span class="token punctuation">.</span><span class="token function">toAscii</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	CustomerType theType <span class="token operator">=</span> static_cast<span class="token operator">&lt;</span>CustomerType<span class="token operator">&gt;</span><span class="token punctuation">(</span>menum<span class="token punctuation">.</span><span class="token function">keyToValue</span><span class="token punctuation">(</span>ntyp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>theType <span class="token operator">!=</span> m_type<span class="token punctuation">)</span><span class="token punctuation">{</span>
		CustomerType oldType <span class="token operator">=</span> m_type<span class="token punctuation">;</span>
		m_type <span class="token operator">=</span> theType<span class="token punctuation">;</span>
		emit <span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span>theType<span class="token punctuation">,</span>oldType<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
QString Customer<span class="token operator">::</span><span class="token function">getTypeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">property</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><blockquote><p>å¯ä»¥é€šå¤šä¸‹é¢çš„å‡½æ•°æ¥è·å¾—ä»»æ„å±æ€§çš„å€¼ï¼šQVariant QObject::property(QString propertyName);
QVariantæ˜¯ä¸€ä¸ªè”åˆä½“çš„å°è£…ï¼Œå…¶ä¸­åŒ…å«äº†æ‰€æœ‰åŸºæœ¬ç±»å‹å’Œæ‰€å…è®¸çš„å…¨éƒ¨Q_PROPERTYç±»å‹ã€‚QVariantæœ‰ä¸€ä¸ªtoString()å‡½æ•°èƒ½å¤Ÿä¸ºå®ƒæ”¯æŒçš„è®¸å¤šç±»å‹è¿”å›å…¶QStringè¡¨ç¤ºã€‚
QVariantå¯¹è±¡å¯ä»¥é€šè¿‡QMetaProperty::read()æˆ–è€…QObject::property()è·å¾—
åŒä¸€ç±»çš„æ‰€æœ‰å¯¹è±¡ä¼šå…±äº«åŒä¸€ä¸ªmetaObjectï¼Œå› è€Œä¼šæœ‰ç›¸åŒå…ƒå±æ€§ç»„</p></blockquote> <div class="language-C line-numbers-mode"><pre class="language-c"><code>QString <span class="token function">objTOString</span><span class="token punctuation">(</span><span class="token keyword">const</span> QObject<span class="token operator">*</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
	QStringList result<span class="token punctuation">;</span>
	<span class="token keyword">const</span> QMetaObject<span class="token operator">*</span> meta <span class="token operator">=</span> obj<span class="token operator">-&gt;</span><span class="token function">metaObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	result <span class="token operator">+=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">&quot;class %1:public %2 {&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>meta<span class="token operator">-&gt;</span><span class="token function">className</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>meta<span class="token operator">-&gt;</span><span class="token function">superClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">className</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>meta<span class="token operator">-&gt;</span><span class="token function">propertyCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">const</span> QMetaProperty qmp<span class="token operator">=</span>meta<span class="token operator">-&gt;</span><span class="token function">property</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		QVariant value <span class="token operator">=</span> obj<span class="token operator">-&gt;</span><span class="token function">property</span><span class="token punctuation">(</span>qmp<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">canConvert</span><span class="token punctuation">(</span>QVariant<span class="token operator">::</span>String<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			result <span class="token operator">+=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">&quot;%1 %2=%3;&quot;</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>qmp<span class="token punctuation">.</span><span class="token function">typeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>qmp<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	result <span class="token operator">+=</span> <span class="token string">&quot;};&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="qmetatype"><a href="#qmetatype" class="header-anchor">#</a> QMetaType</h2> <blockquote><ol><li>QMetaTypeæ˜¯ä¸€ä¸ªç”¨äºå€¼ç±»å‹çš„è¾…åŠ©ç±»ï¼Œå¯¹äº60å¤šç§å†…ç½®ç±»å‹ï¼ŒQMetaTypeä¸ºæ¯ä¸ªç±»å‹IDå…³è”äº†ä¸€ä¸ªç±»å‹åï¼Œä»è€Œä½¿æ„é€ å’Œææ„å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€å‘ç”Ÿã€‚æœ‰ä¸€ä¸ªåç§°ä¸ºQMetaType::Typeçš„å…¬å…±æšä¸¾ï¼Œå®ƒæœ‰æ‰€æœ‰QVariantå…¼å®¹ç±»å‹çš„å€¼ã€‚åœ¨QMetaType::Typeä¸­çš„æšä¸¾å€¼ä¸QVariant::Typeä¸­çš„æšä¸¾å€¼ä¸€æ ·
é€šè¿‡ä½¿ç”¨Q_ENUMSå®å¯ä»¥åœ¨QVariantç³»ç»Ÿä¸­åŠ å…¥ä¸€äº›è‡ªå®šä¹‰çš„æšä¸¾ç±»å‹ã€‚
ä½¿ç”¨Q_DECLARE_METATYPE(MyType)å®ä¹Ÿæœ‰å¯èƒ½æŠŠè‡ªå·±çš„å€¼ç±»å‹åŠ åˆ°QMetaTypeåˆ—è¡¨ä¸­ã€‚å¦‚æœMyTypeæœ‰å…¬å…±çš„é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°å’Œå…¬å…±çš„å¤åˆ¶æ„é€ å‡½æ•°ä»¥åŠä¸€ä¸ªå…¬å…±çš„ææ„å‡½æ•°ï¼ŒQ_DECLARE_METATYPEå®ä½¿å¾—å®ƒå¯ç”¨ä½œQVariantä¸­çš„è‡ªå®šä¹‰ç±»å‹
è¦æ³¨å†Œçš„å…ƒç±»å‹å¿…é¡»å·²ç»ç”¨Q_DECLARE_METATYPEå£°æ˜è¿‡ã€‚æ¨¡æ¿å‡½æ•°qRegisterMetaType<T>()ä¼šæ³¨å†Œç±»å‹Tå¹¶è¿”å›ç”±QMetaTypeä½¿ç”¨çš„å†…éƒ¨IDã€‚è¿™ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªé‡è½½ç‰ˆæœ¬ï¼ŒqRegisterMetaType<T>(const char* name),å®ƒå¯ä»¥è®©ä½ æ³¨å†Œä¸€ä¸ªåç§°ä½œä¸ºç±»å‹Tçš„åç§°ã€‚å¯¹äºè¿™ä¸ªå‡½æ•°çš„è°ƒç”¨å¿…é¡»æ—©æ—©åœ°å‡ºç°åœ¨ä¸»ç¨‹åºä¸­ã€‚</T></T></li></ol></blockquote> <div class="language-C fraction.h line-numbers-mode"><pre class="language-c"><code>class Fraction<span class="token operator">:</span>public QPair<span class="token operator">&lt;</span>qint32<span class="token punctuation">,</span>qint32<span class="token operator">&gt;</span><span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Fraction</span><span class="token punctuation">(</span>qint32 n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>qint32 d<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">:</span>QPair<span class="token operator">&lt;</span>qint32<span class="token punctuation">,</span>qint32<span class="token operator">&gt;</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>d<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">Q_DECLARE_METATYPE</span><span class="token punctuation">(</span>Fraction<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-C metatype.cpp line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span><span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	QApplication <span class="token function">app</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span>
	qRegissterMetaType<span class="token operator">&lt;</span>Fraction<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&quot;Fraction&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Fraction <span class="token function">twoThirds</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	QVariant var<span class="token punctuation">;</span>
	var<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>twoThirds<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Q_ASSERT</span><span class="token punctuation">(</span>var<span class="token punctuation">.</span>value<span class="token operator">&lt;</span>Fraction<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> twoThirds<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	Fraction <span class="token function">oneHalf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Fraction <span class="token function">threeQuarters</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	QList<span class="token operator">&lt;</span>Fraction<span class="token operator">&gt;</span> fractions<span class="token punctuation">;</span>
	fractions<span class="token operator">&lt;&lt;</span>oneHalf<span class="token operator">&lt;&lt;</span>twoThirds<span class="token operator">&lt;&lt;</span>threeQuarters<span class="token punctuation">;</span>
	QFile <span class="token function">binaryTestFile</span><span class="token punctuation">(</span><span class="token string">&quot;testMetaType.bin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	binaryTestFile<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token operator">::</span>WriteOnly<span class="token punctuation">)</span><span class="token punctuation">;</span>
	QDataStream <span class="token function">dout</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>binaryTestFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
	dout<span class="token operator">&lt;&lt;</span>fractions<span class="token punctuation">;</span>
	binaryTestFile<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	binaryTestFile<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token operator">::</span>ReadOnly<span class="token punctuation">)</span><span class="token punctuation">;</span>
	QDataStream <span class="token function">din</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>binaryTestFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
	QList<span class="token operator">&lt;</span>Fraction<span class="token operator">&gt;</span> frac2<span class="token punctuation">;</span>
	din <span class="token operator">&gt;&gt;</span> frac2<span class="token punctuation">;</span>
	binaryTestFile<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Q_ASSERT</span><span class="token punctuation">(</span>fractions <span class="token operator">==</span> frac2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">creatTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">creatTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">static</span> <span class="token keyword">int</span> fracType <span class="token operator">=</span> QMetaType<span class="token operator">::</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">&quot;Fraction&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span><span class="token operator">*</span> vp <span class="token operator">=</span> QMetaType<span class="token operator">::</span><span class="token function">construct</span><span class="token punctuation">(</span>fracType<span class="token punctuation">)</span><span class="token punctuation">;</span>
	Fraction<span class="token operator">*</span> fp <span class="token operator">=</span> reinterpret_cast<span class="token operator">&lt;</span>Fraction<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>vp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	fp<span class="token operator">-&gt;</span>first  <span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
	fp<span class="token operator">-&gt;</span>second <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token function">Q_ASSERT</span><span class="token punctuation">(</span><span class="token operator">*</span>fp <span class="token operator">==</span> <span class="token function">Fraction</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h2 id="invokemethod"><a href="#invokemethod" class="header-anchor">#</a> invokeMethod()</h2> <blockquote><ol><li>QtæŠŠä¿¡å·è¿æ¥åˆ°æ§½éœ€è¦ä¸€ç§æœºåˆ¶ï¼šé€šè¿‡åç§°ä»¥ç±»å‹å®‰å…¨çš„æ–¹å¼æ¥é—´æ¥è°ƒç”¨è¿™äº›æ§½ï¼Œå½“è°ƒç”¨æ§½æ—¶ï¼Œå®é™…æ˜¯ç”±invokeMethod()å®Œæˆçš„ã€‚</li> <li>ä¸QObject::connect()ç±»ä¼¼ï¼ŒinvokeMethod()æ¥å—ä¸€ä¸ªå¯é€‰å‚æ•°Qt::ConnectionType,è¯¥å‚æ•°å¯è®©ä½ æ¥å†³å®šæ˜¯è¦ç”¨åŒæ­¥è°ƒç”¨è¿˜æ˜¯è¦ç”¨å¼‚æ­¥è°ƒç”¨ã€‚é»˜è®¤æƒ…å†µä¸‹æ˜¯Qt::AutoConnectionï¼Œè¡¨ç¤ºå‘å°„è€…å’Œæ¥æ”¶è€…å¤„äºåŒä¸€çº¿ç¨‹ä¸­æ—¶ä¼šåŒæ­¥æ‰§è¡Œä¸€ä¸ªæ§½</li> <li>è¦é€šè¿‡invokeMethod()å‘å‡½æ•°ä¼ é€’ç±»å‹å‚æ•°ï¼Œå¯ä»¥ç”¨Q_ARGå®åˆ›å»ºä¸€äº›å€¼ï¼Œè¿™æ ·ä¼šè¿”å›ä¸€ä¸ªQGenericArgumentï¼Œå®ƒå°è£…äº†å•ä¸ªå‚æ•°çš„ç±»å‹å’Œå€¼ä¿¡æ¯</li></ol></blockquote> <div class="language-C line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> AutoSaver<span class="token operator">::</span><span class="token function">saveIfNecessary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>QMetaObject<span class="token operator">::</span><span class="token function">invokeMethod</span><span class="token punctuation">(</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;save&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">qWarning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">&quot;AutoSaver:error invoking save() on parent&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-C line-numbers-mode"><pre class="language-c"><code>QByteArray buffer<span class="token operator">=</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bool b <span class="token operator">=</span> QMetaObject<span class="token operator">::</span><span class="token function">invokeMethod</span><span class="token punctuation">(</span>m_thread<span class="token punctuation">,</span><span class="token string">&quot;caculateSpectrum&quot;</span><span class="token punctuation">,</span>Qt<span class="token operator">::</span>AutoConnection<span class="token punctuation">,</span><span class="token function">Q_ARG</span><span class="token punctuation">(</span>QByteArray<span class="token punctuation">,</span>buffer<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">Q_ARG</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span>format<span class="token punctuation">.</span><span class="token function">frequency</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">Q_ARG</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span>bytesPerSample<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="mvcè®¾è®¡æ¨¡å¼"><a href="#mvcè®¾è®¡æ¨¡å¼" class="header-anchor">#</a> MVCè®¾è®¡æ¨¡å¼</h2> <blockquote><ol><li>MVCç”±ä¸‰ç±»å¯¹è±¡ç»„æˆã€‚æ¨¡å‹æ˜¯åº”ç”¨ç¨‹åºå¯¹è±¡ï¼Œè§†å›¾æ˜¯å®ƒçš„å±å¹•å±•ç¤ºï¼Œæ§åˆ¶å™¨å®šä¹‰äº†ç”¨æˆ·ç•Œé¢å¯¹ç”¨æˆ·è¾“å…¥çš„ååº”è¡Œä¸ºã€‚</li> <li>åœ¨Qtä¸­ï¼Œä¸åŒçš„æ§åˆ¶å™¨ç±»çš„åŸºç±»æ˜¯QAbstractItemDelegateã€‚é‚£äº›è¿æ¥ä¿¡å·ä¸æ§½çš„connectè¯­å¥ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯æ§åˆ¶å™¨ä»£ç </li> <li>Qtä¸­åŒ…å«æœ‰ä¸€ä¸ªæ¨¡å‹/è§†å›¾æ¡†æ¶ï¼Œç”¨äºç»´æŠ¤æ•°æ®çš„ç»„ç»‡ç®¡ç†å’Œå‘ç”¨æˆ·çš„å‘ˆç°æ–¹å¼ä¹‹é—´çš„åˆ†ç¦»ã€‚ä¸‰ä¸ªæœ€å¸¸ç”¨çš„è§†å›¾ç±»(åˆ—è¡¨ã€æ ‘å’Œè¡¨æ ¼)éƒ½æ˜¯é»˜è®¤æä¾›çš„ã€‚å¦å¤–ï¼Œå®ƒè¿˜æä¾›äº†æŠ½è±¡çš„å’Œå…·ä½“çš„æ•°æ®æ¨¡å‹ï¼Œè¿™äº›æ•°æ®æ¨¡å‹å¯è¢«æ‰©å±•å’Œè‡ªå®šä¹‰ä»¥ä¿å­˜ä¸åŒç±»å‹çš„æ•°æ®ã€‚</li> <li>è§†å›¾æ˜¯è·å–ã€ä¿®æ”¹å’Œå‘ˆç°æ•°æ®çš„å¯¹è±¡ã€‚QAbstractItemModelå®šä¹‰äº†è§†å›¾(è¿˜æœ‰å§”æ‰˜)è®¿é—®æ•°æ®çš„ä¸€ä¸ªæ ‡å‡†æ¥å£ã€‚æ¨¡å‹ä¸­å­˜å‚¨ä¾›æ˜¾ç¤ºå’Œæ“ä½œçš„å…·ä½“æ•°æ®ã€‚é€šè¿‡ä¿¡å·å’Œæ§½ï¼Œä»–ä»¬å°†æ•°æ®çš„å˜åŒ–é€šçŸ¥ç»™æ‰€æœ‰ç›¸å…³è”çš„è§†å›¾ã€‚æ¯ä¸ªè§†å›¾å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘æ¨¡å‹å¯¹è±¡çš„æŒ‡é’ˆï¼Œè§†å›¾å¯¹è±¡ä¼šé¢‘ç¹è®¿é—®æ¨¡å‹çš„æ–¹æ³•ä»¥è·å–æˆ–è®¾ç½®æ•°æ®ï¼Œæˆ–è€…åšå„ç§å…¶ä»–æ“ä½œã€‚</li> <li>æ¨¡å‹ä¸­æ¯ä¸ªæ•°æ®é¡¹éƒ½ç”¨ä¸€ä¸ªæ¨¡å‹ç´¢å¼•æ¥è¡¨ç¤ºã€‚æ¨¡å‹ç´¢å¼•ä¸ºè§†å›¾å’Œå§”æ‰˜æä¾›äº†åœ¨ä¸çŸ¥é“å…¶åº•å±‚æ•°æ®ç»“æ„çš„æƒ…å†µä¸‹é—´æ¥è®¿é—®æ¨¡å‹ä¸­æ•°æ®é¡¹çš„æ–¹æ³•ã€‚QModeIndexå¯¹è±¡ç”±æ¨¡å‹åˆ›å»ºï¼Œå¯ä»¥è¢«æ¨¡å‹ã€è§†å›¾æˆ–å§”æ‰˜ä»£ç ç”¨äºå®šä½æ•°æ®æ¨¡å‹ä¸­ç‰¹å®šé¡¹ã€‚QModeIndexå¯¹è±¡å…·æœ‰å¾ˆçŸ­çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¯èƒ½åœ¨åˆšåˆšåˆ›å»ºåå°±å˜æˆæ— æ•ˆçš„çŠ¶æ€ï¼Œå› æ­¤å®ƒä»¬åº”è¯¥è¢«ç«‹å³ä½¿ç”¨è€Œåä¸¢å¼ƒ</li> <li>å¦‚æœä½¿ç”¨ä¸€ä¸ªåœ¨è‹¥å¹²æŒ‡ä»¤æ“ä½œå‰å·²ç»å­˜åœ¨çš„QModeIndexï¼Œé‚£ä¹ˆåº”è¯¥å…ˆè°ƒç”¨QModelIndex::isValidï¼ˆï¼‰ã€‚QPersistentModelIndexå¯¹è±¡å…·æœ‰æ›´é•¿çš„ç”Ÿå‘½å‘¨æœŸï¼Œä½†æ˜¯åœ¨ä½¿ç”¨å‰ä»»ç„¶åº”è¯¥å…ˆè°ƒç”¨isValid()æ¥è¿›è¡Œæ£€æŸ¥</li></ol></blockquote> <h2 id="æ™ºèƒ½æŒ‡é’ˆ"><a href="#æ™ºèƒ½æŒ‡é’ˆ" class="header-anchor">#</a> æ™ºèƒ½æŒ‡é’ˆ</h2> <blockquote><ol><li>ä¸€ä¸ªé‡å†™äº†æŒ‡é’ˆè§£å¼•ç”¨æ“ä½œoperator*()å’Œoperator-&gt;()çš„ç±»è¢«ç§°ä¸ºæ™ºèƒ½æŒ‡é’ˆã€‚</li> <li>QScopedPointeræ˜¯ä¸€ä¸ªåœ¨æŒ‡é’ˆä½œç”¨åŸŸç»“æŸåè‡ªåŠ¨åˆ é™¤æ‰€å¼•ç”¨å¯¹è±¡çš„æ™ºèƒ½æŒ‡é’ˆã€‚å®ƒç±»ä¼¼äºstd::auto_ptrã€‚å¤åˆ¶QScopedPointeræ˜¯æ¯«æ— æ„ä¹‰çš„ï¼Œå› ä¸ºå®ƒä¼šå¯¼è‡´æ‰€å¼•ç”¨çš„å¯¹è±¡é‡å¤åˆ é™¤</li> <li>QSharedPointeræ˜¯ä¸€ä¸ªè‡ªåŠ¨åˆ é™¤å®ƒæ‰€å¼•ç”¨çš„å¯¹è±¡çš„æ™ºèƒ½æŒ‡é’ˆï¼Œä½†æ˜¯å®ƒå…è®¸è¢«å¤åˆ¶ï¼Œè€Œä¸”QSharedPointerä¼šä¿æŒä¸€ä¸ªå¼•ç”¨è®¡æ•°ã€‚å…±äº«çš„å †å¯¹è±¡åªæœ‰åœ¨æœ€åä¸€ä¸ªæŒ‡å‘å®ƒçš„åªèƒ½æŒ‡é’ˆé”€æ¯æ—¶æ‰ä¼šè¢«åˆ é™¤ã€‚</li></ol></blockquote> <h2 id="è¾“å…¥æ©ç "><a href="#è¾“å…¥æ©ç " class="header-anchor">#</a> è¾“å…¥æ©ç </h2> <blockquote><p>1.æ‰€è°“çš„è¾“å…¥æ©ç ï¼Œæ˜¯ä¸€ç§æ§åˆ¶ç”¨æˆ·åœ¨è¾“å…¥çª—ä»¶ä¸­å¯é”®å…¥çš„å†…å®¹çš„ä¸»åŠ¨æ¨¡å¼ã€‚å®ƒæœ‰åŠ©äºé˜²æ­¢è¾“å…¥æŸäº›ç±»å‹çš„ä¸æ­£ç¡®çš„æ•°æ®ã€‚æ¯ä¸ªQLineEditéƒ½æœ‰ä¸€ä¸ªQStringå±æ€§ç”¨æ¥å­˜å‚¨æ©ç å­—ç¬¦ã€‚è¾“å…¥æ©ç å¯ä»¥æŒ‡å®šåœ¨é”®å…¥QLineEditçš„å­—ç¬¦ä¸²ä¸­é‚£ä¸ªä½ç½®å¤„çš„ä½•ç§å­—ç¬¦æ˜¯å…è®¸çš„ã€‚è¯¥å­—ç¬¦ä¸²ç”±ä¸€äº›ç‰¹æ®Šçš„ã€é¢„å®šä¹‰çš„æ©ç å­—ç¬¦å’Œä¸€äº›å æ®è¾“å…¥å­—ç¬¦ä¸²ç›¸åº”ä½ç½®çš„æ™®é€šå­—ç¬¦æ„æˆ
æ©ç å­—ç¬¦ï¼š
* A:ASCIIå­—æ¯å‹å­—ç¬¦â€”â€”å¤§å†™æˆ–è€…å°å†™
* N:ASCIIå­—æ¯æ•°å­—å‹å­—ç¬¦â€”â€”å¤§å†™æˆ–è€…å°å†™
* X:ä»»æ„çš„ASCIIå­—ç¬¦
* D:ASCIIéé›¶æ•°å­—
* 9:ASCIIæ•°å­—
* H:åå…­è¿›åˆ¶æ•°å­—
* B:äºŒè¿›åˆ¶æ•°å­—
* &gt;:éšåçš„å­—æ¯å­—ç¬¦æ˜¯å¤§å†™
* &lt;:éšåçš„å­—æ¯å­—ç¬¦æ˜¯å°å†™
* ï¼:ç»“æŸå¤§å°å†™è½¬æ¢
* :è½¬ä¹‰å­—ç¬¦</p></blockquote> <div class="language-C line-numbers-mode"><pre class="language-c"><code>QLineEdit<span class="token operator">*</span> m_StringEntry<span class="token punctuation">;</span>
m_StringEntry<span class="token operator">-&gt;</span><span class="token function">setInputMask</span><span class="token punctuation">(</span>m_InputMask<span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="qregexp"><a href="#qregexp" class="header-anchor">#</a> QRegExp</h2> <blockquote><ol><li>æ­£åˆ™è¡¨è¾¾å¼æ˜¯éªŒè¯è¾“å…¥ã€ä»è¾“å…¥ä¸­æå–æ•°æ®ä»¥åŠå¯¹è¾“å…¥è¿›è¡Œæœç´¢å’Œæ›¿æ¢çš„å¼ºå¤§å·¥å…·ã€‚Qtæä¾›äº†QRegExpç±»ï¼Œå®ƒå®ç°äº†Perlé£æ ¼çš„æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼è¯­è¨€çš„å¤§éƒ¨åˆ†åŠŸèƒ½</li> <li>ç‰¹æ®Šå­—ç¬¦ï¼š
* '.'å¯ä»¥ä¸ä»»æ„å­—ç¬¦ç›¸åŒ¹é…ï¼Œç§°ä¹‹ä¸ºå…ƒå­—ç¬¦
* '\n'åŒ¹é…æ¢è¡Œç¬¦
* '\f'åŒ¹é…æ¢é¡µç¬¦
* '\t'åŒ¹é…åˆ¶è¡¨ç¬¦
* '\xhhhh'åŒ¹é…ä¸€ä¸ªUnicodeå­—ç¬¦ï¼Œå…¶å¯¹åº”çš„ç å€¼æ˜¯èŒƒå›´ä¸º0x0000åˆ°0xFFFFä¹‹é—´çš„ä¸€ä¸ªåå…­è¿›åˆ¶æ•°hhhh</li> <li>é‡è¯â€”â€”è¯´æ˜å‰é¢çš„å­—ç¬¦(æˆ–å­—ç¬¦ç»„)åœ¨åŒ¹é…çš„è¡¨è¾¾å¼ä¸­å¯å‡ºç°æ¬¡æ•°çš„ä¿®é¥°ç¬¦
* '+' å‡ºç°1æ¬¡æˆ–è€…æ›´å¤šæ¬¡
* '?' å‡ºç°0æ¬¡æˆ–è€…1æ¬¡
* '*' å‡ºç°0æ¬¡æˆ–è€…æ›´å¤šæ¬¡
* {i,j} å‡ºç°è‡³å°‘iæ¬¡ä½†ä¸è¶…è¿‡jæ¬¡</li> <li>å­—ç¬¦é›†â€”â€”åœ¨åŒ¹é…è¡¨è¾¾å¼æŒ‡å®šä½ç½®å…è®¸å‡ºç°çš„å­—ç¬¦é›†åˆ
* '\s' åŒ¹é…ä»»ä½•ç©ºç™½ç¬¦
* '\S' åŒ¹é…ä»»ä½•éç©ºç™½ç¬¦
* '\d' åŒ¹é…ä»»ä½•æ•°å­—å­—ç¬¦ï¼šä»'0'åˆ°'9'
* '\D' åŒ¹é…ä»»ä½•éæ•°å­—å­—ç¬¦
* '\w' åŒ¹é…ä»»ä½•â€œå•è¯â€å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯ä»»æ„çš„å­—æ¯ã€æ•°å­—æˆ–è€…ä¸‹åˆ’çº¿
* '\W' åŒ¹é…ä»»æ„çš„éå•è¯å­—ç¬¦</li> <li>å­—ç¬¦é›†ä¹Ÿå¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·æŒ‡å®š:
* [AEIOU]åŒ¹é…è¿™äº”ä¸ªå­—ç¬¦ä¸­çš„ä»»æ„ä¸€ä¸ª
* [a-g]çŸ­çº¿ä½¿æ­¤é›†åˆå¯åŒ¹é…ä»'a'åˆ°'g'çš„å­—ç¬¦
* [^xyz]åŒ¹é…ä»»ä½•é™¤è¿™ä¸‰å­—ç¬¦ä»¥å¤–çš„å­—ç¬¦</li> <li>åˆ†ç»„å’Œæ•è·å­—ç¬¦â€”â€”(åœ†æ‹¬å·)æ˜¯å¯ä»¥ç”¨æ¥æŠŠå­—ç¬¦åˆ’åˆ†æˆç»„çš„ç‰¹æ®Šå­—ç¬¦ã€‚å­—ç¬¦ç»„å¯ä»¥æ˜¯åå‘å¼•ç”¨çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªåŒ¹é…ï¼Œé‚£ä¹ˆåˆ†ç»„äº†çš„å€¼å°†å¯ä»¥é€šè¿‡å„ç§æ–¹æ³•æ¥æ•è·å’Œè®¿é—®ã€‚ä¸ºäº†ç®€ä¾¿èµ·è§ï¼Œä¸€èˆ¬è§„å®šåœ¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¸­æœ€å¤šå¯ä»¥å¼•ç”¨9ä¸ªåˆ†ç»„ï¼Œå³ä½¿ç”¨\1åˆ°\9è¿™æ ·çš„ä¿®é¥°ç¬¦ã€‚æ­¤å¤–è¿˜æœ‰ä¸€ä¸ªQRegExpæˆå‘˜å‡½æ•°cap(int nth),å®ƒè¿”å›ç¬¬é‚£ä¸ªåˆ†ç»„(åŸºäºQStringçš„å½¢å¼è¿”å›)</li> <li>é”šç‚¹å­—ç¬¦â€”â€”å»é¡¶å°è¯•è¿›è¡ŒåŒ¹é…æ“ä½œçš„è¾¹ç•Œ
* è„±å­—ç¬¦(^),å¦‚æœå®ƒæ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œåˆ™è¯´æ˜åŒ¹é…è¿‡ç¨‹ä»å­—ç¬¦ä¸²çš„å¼€å¤´å¤„å¼€å§‹
* ç¾å…ƒç¬¦($),å¦‚æœå®ƒæ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œåˆ™è¡¨æ˜åŒ¹é…è¿‡ç¨‹æŒ‡å¯¼å­—ç¬¦ä¸²çš„ç»“å°¾æ‰ç»“æŸ
* æ­¤å¤–ï¼Œè¿˜æœ‰å•è¯è¾¹ç•Œ(\b)æ–­è¨€æˆ–è€…éå•è¯è¾¹ç•Œ(\B),æœ‰åŠ©äºæˆ‘ä»¬å…³æ³¨æ­£åˆ™è¡¨è¾¾å¼æœ¬èº«</li></ol></blockquote> <h2 id="qtç¯å¢ƒå˜é‡çš„è·å–ä¸è®¾ç½®"><a href="#qtç¯å¢ƒå˜é‡çš„è·å–ä¸è®¾ç½®" class="header-anchor">#</a> Qtç¯å¢ƒå˜é‡çš„è·å–ä¸è®¾ç½®</h2> <blockquote><p>QProcess::environment()å‡½æ•°å’ŒsetEnvironment()å‡½æ•°</p></blockquote> <h2 id="qprocesså’Œè¿›ç¨‹æ§åˆ¶"><a href="#qprocesså’Œè¿›ç¨‹æ§åˆ¶" class="header-anchor">#</a> QProcesså’Œè¿›ç¨‹æ§åˆ¶</h2> <blockquote><ol><li>QProcessæ˜¯ä¸€ä¸ªèƒ½å¤Ÿéå¸¸æ–¹ä¾¿è€Œä¸”è·¨å¹³å°çš„ç”¨äºå¯åŠ¨å’Œæ§åˆ¶å…¶ä»–è¿›ç¨‹çš„ç±»ã€‚å®ƒä»QPbjectæ´¾ç”Ÿè€Œæ¥ï¼Œå¯å……åˆ†åˆ©ç”¨ä¿¡å·å’Œæ§½æ¥ç®€åŒ–å’Œå…¶ä»–Qtç±»çš„äº¤äº’</li> <li>ä¸€ä¸ªQProcesså¯ä»¥ä½¿ç”¨start()å‡½æ•°æ¥å¯åŠ¨å¦å¤–ä¸€ä¸ªè¿›ç¨‹ï¼Œæ–°è¿›ç¨‹å°†ä¼šæˆä¸ºä¸€ä¸ªå­è¿›ç¨‹å¹¶ä¸”åœ¨çˆ¶è¿›ç¨‹ç»ˆæ­¢æ—¶è€Œéšä¹‹ç»ˆæ­¢</li> <li>Qtçš„çº¿ç¨‹æ¨¡å‹å…è®¸çº¿ç¨‹çš„ä¼˜å…ˆæ¬¡åºå’Œæ§åˆ¶ã€‚QThreadæ˜¯ä¸€ä¸ªä½çº§ç±»ï¼Œé€‚åˆç”¨äºæ˜¾å¼çš„æ„å»ºé•¿æœŸè¿è¡Œçš„çº¿ç¨‹</li> <li>QtConcurrentæ˜¯ä¸€ä¸ªå‘½åç©ºé—´ï¼Œæä¾›äº†ç”¨äºç¼–å†™å¹¶å‘è½¯ä»¶çš„æ›´é«˜å±‚æ¬¡çš„ç±»å’Œç®—æ³•ã€‚è¯¥å‘½åç©ºé—´æœ‰ä¸€ä¸ªé‡è¦çš„ç±»ï¼ŒQThreadPoolï¼Œè¿™æ˜¯ä¸€ä¸ªç®¡ç†çº¿ç¨‹æ± çš„ç±»ã€‚æ¯ä¸ªQtåº”ç”¨ç¨‹åºéƒ½æœ‰ä¸€ä¸ªQThreadPool::globalInstance()å‡½æ•°ï¼Œå®ƒå¸¦æœ‰ä¸€ä¸ªæ¨èçš„æœ€å¤§çº¿ç¨‹æ•°ï¼Œåœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸Šï¼Œå¤„ç†æ ¸çš„æ•°é‡å°±æ˜¯è¯¥å€¼çš„é»˜è®¤å€¼</li> <li>å€ŸåŠ©QtConcurrentä¸­å‡½æ•°å¼çš„map/filter/reduceç®—æ³•ï¼Œé€šè¿‡å°†è¿›ç¨‹åˆ†å¸ƒåœ¨ç”±çº¿ç¨‹æ± ç®¡ç†çš„å¤šä¸ªçº¿ç¨‹ä¸Šï¼Œå¯ç¼–å†™ä¸€ä¸ªèƒ½å¤Ÿè‡ªåŠ¨åˆ©ç”¨ç³»ç»Ÿå¤šæ ¸çš„ç¨‹åºã€‚å¦å¤–ï¼Œåœ¨å‘½ä»¤æ¨¡å¼å’Œåˆ©ç”¨QtConcurrent::run()å·¥ä½œæ—¶å¯æŠŠQRunnableç”¨ä½œåŸºç±»ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæ— é¡»æ˜¾ç¤ºåœ°åˆ›å»ºçº¿ç¨‹æˆ–è€…ç›´æ¥ç®¡ç†ä»–ä»¬ï¼Œåªéœ€ç®€å•æŠŠå·¥ä½œç‰‡æ®µæè¿°ä¸ºå…·æœ‰æ­£ç¡®æ¥å£çš„å¯¹è±¡å³å¯</li></ol></blockquote></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/suda-morris/blog/edit/master/docs/others/qt4.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘æ­¤é¡µé¢</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">3/9/2019, 2:30:20 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/blog/assets/js/app.c188fdbb.js" defer></script><script src="/blog/assets/js/3.f84f9de6.js" defer></script><script src="/blog/assets/js/72.bb048ac9.js" defer></script><script src="/blog/assets/js/8.6c290bcf.js" defer></script>
  </body>
</html>
